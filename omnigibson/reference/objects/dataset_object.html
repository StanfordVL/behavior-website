
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="controllable_object.html">
      
      
        <link rel="next" href="light_object.html">
      
      
        
      
      
      <link rel="icon" href="../../assets/OmniGibson_logo.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.5+insiders-4.32.4">
    
    
      
        <title>dataset_object - OmniGibson Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.323870f8.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.6932e648.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-6L1G6GMR63"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-6L1G6GMR63",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-6L1G6GMR63",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>

  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#objects.dataset_object" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../index.html" title="OmniGibson Documentation" class="md-header__button md-logo" aria-label="OmniGibson Documentation" data-md-component="logo">
      
  <img src="../../assets/OmniGibson_logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OmniGibson Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              dataset_object
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
      </form>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/StanfordVL/OmniGibson" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    StanfordVL/OmniGibson
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html" class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../getting_started/installation.html" class="md-tabs__link">
          
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    <li class="md-tabs__item">
      <a href="../controllers/index.html" class="md-tabs__link md-tabs__link--active">
        
  
    
  
  controllers

      </a>
    </li>
  

    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../index.html" title="OmniGibson Documentation" class="md-nav__button md-logo" aria-label="OmniGibson Documentation" data-md-component="logo">
      
  <img src="../../assets/OmniGibson_logo.png" alt="logo">

    </a>
    OmniGibson Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/StanfordVL/OmniGibson" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    StanfordVL/OmniGibson
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/installation.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m13.78 15.3 6 6 2.11-2.16-6-6-2.11 2.16m3.72-5.2c-.39 0-.81-.05-1.14-.19L4.97 21.25l-2.11-2.11 7.41-7.4L8.5 9.96l-.72.7-1.45-1.41v2.86l-.7.7-3.52-3.56.7-.7h2.81l-1.4-1.41 3.56-3.56a2.976 2.976 0 0 1 4.22 0L9.89 5.74l1.41 1.4-.71.71 1.79 1.78 1.82-1.88c-.14-.33-.2-.75-.2-1.12a3.49 3.49 0 0 1 3.5-3.52c.59 0 1.11.14 1.58.42L16.41 6.2l1.5 1.5 2.67-2.67c.28.47.42.97.42 1.6 0 1.92-1.55 3.47-3.5 3.47Z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/quickstart.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M14.064 0h.186C15.216 0 16 .784 16 1.75v.186a8.752 8.752 0 0 1-2.564 6.186l-.458.459c-.314.314-.641.616-.979.904v3.207c0 .608-.315 1.172-.833 1.49l-2.774 1.707a.749.749 0 0 1-1.11-.418l-.954-3.102a1.214 1.214 0 0 1-.145-.125L3.754 9.816a1.218 1.218 0 0 1-.124-.145L.528 8.717a.749.749 0 0 1-.418-1.11l1.71-2.774A1.748 1.748 0 0 1 3.31 4h3.204c.288-.338.59-.665.904-.979l.459-.458A8.749 8.749 0 0 1 14.064 0ZM8.938 3.623h-.002l-.458.458c-.76.76-1.437 1.598-2.02 2.5l-1.5 2.317 2.143 2.143 2.317-1.5c.902-.583 1.74-1.26 2.499-2.02l.459-.458a7.25 7.25 0 0 0 2.123-5.127V1.75a.25.25 0 0 0-.25-.25h-.186a7.249 7.249 0 0 0-5.125 2.123ZM3.56 14.56c-.732.732-2.334 1.045-3.005 1.148a.234.234 0 0 1-.201-.064.234.234 0 0 1-.064-.201c.103-.671.416-2.273 1.15-3.003a1.502 1.502 0 1 1 2.12 2.12Zm6.94-3.935c-.088.06-.177.118-.266.175l-2.35 1.521.548 1.783 1.949-1.2a.25.25 0 0 0 .119-.213ZM3.678 8.116 5.2 5.766c.058-.09.117-.178.176-.266H3.309a.25.25 0 0 0-.213.119l-1.2 1.95ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Quickstart
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/building_blocks.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m8.878.392 5.25 3.045c.54.314.872.89.872 1.514v6.098a1.75 1.75 0 0 1-.872 1.514l-5.25 3.045a1.75 1.75 0 0 1-1.756 0l-5.25-3.045A1.75 1.75 0 0 1 1 11.049V4.951c0-.624.332-1.201.872-1.514L7.122.392a1.75 1.75 0 0 1 1.756 0ZM7.875 1.69l-4.63 2.685L8 7.133l4.755-2.758-4.63-2.685a.248.248 0 0 0-.25 0ZM2.5 5.677v5.372c0 .09.047.171.125.216l4.625 2.683V8.432Zm6.25 8.271 4.625-2.683a.25.25 0 0 0 .125-.216V5.677L8.75 8.432Z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Building Blocks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Code Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Code Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../controllers/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    controllers
  

    
  </span>
  
  

            </a>
            
              <label class="md-nav__link " for="__nav_3_1">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    controllers
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../controllers/controller_base.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    controller_base
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../controllers/dd_controller.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    dd_controller
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../controllers/ik_controller.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    ik_controller
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../controllers/joint_controller.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    joint_controller
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../controllers/multi_finger_gripper_controller.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    multi_finger_gripper_controller
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../controllers/null_joint_controller.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    null_joint_controller
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../envs/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    envs
  

    
  </span>
  
  

            </a>
            
              <label class="md-nav__link " for="__nav_3_2">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    envs
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../envs/env_base.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    env_base
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../examples/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    examples
  

    
  </span>
  
  

            </a>
            
              <label class="md-nav__link " for="__nav_3_3">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    examples
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../examples/environments/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    environments
  

    
  </span>
  
  

            </a>
            
              <label class="md-nav__link " for="__nav_3_3_1">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    environments
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/environments/behavior_env_demo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    behavior_env_demo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/environments/navigation_env_demo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    navigation_env_demo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../examples/learning/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    learning
  

    
  </span>
  
  

            </a>
            
              <label class="md-nav__link " for="__nav_3_3_2">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    learning
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/learning/navigation_policy_demo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    navigation_policy_demo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../examples/object_states/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    object_states
  

    
  </span>
  
  

            </a>
            
              <label class="md-nav__link " for="__nav_3_3_3">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    object_states
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/object_states/attachment_demo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    attachment_demo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/object_states/dicing_demo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    dicing_demo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/object_states/folded_unfolded_state_demo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    folded_unfolded_state_demo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/object_states/heat_source_or_sink_demo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    heat_source_or_sink_demo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/object_states/heated_state_demo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    heated_state_demo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/object_states/object_state_texture_demo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    object_state_texture_demo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/object_states/onfire_demo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    onfire_demo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/object_states/overlaid_demo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    overlaid_demo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/object_states/particle_applier_remover_demo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    particle_applier_remover_demo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/object_states/particle_source_sink_demo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    particle_source_sink_demo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/object_states/sample_kinematics_demo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    sample_kinematics_demo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/object_states/slicing_demo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    slicing_demo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/object_states/temperature_demo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    temperature_demo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../examples/objects/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    objects
  

    
  </span>
  
  

            </a>
            
              <label class="md-nav__link " for="__nav_3_3_4">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    objects
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/objects/draw_bounding_box.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    draw_bounding_box
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/objects/highlight_objects.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    highlight_objects
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/objects/load_object_selector.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    load_object_selector
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/objects/visualize_object.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    visualize_object
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../examples/renderer_settings/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    renderer_settings
  

    
  </span>
  
  

            </a>
            
              <label class="md-nav__link " for="__nav_3_3_5">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    renderer_settings
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/renderer_settings/renderer_settings_example.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    renderer_settings_example
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../examples/robots/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    robots
  

    
  </span>
  
  

            </a>
            
              <label class="md-nav__link " for="__nav_3_3_6">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    robots
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_6_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../examples/robots/advanced/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    advanced
  

    
  </span>
  
  

            </a>
            
              <label class="md-nav__link " for="__nav_3_3_6_1">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_3_6_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_6_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    advanced
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/robots/advanced/ik_example.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    ik_example
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/robots/all_robots_visualizer.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    all_robots_visualizer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/robots/grasping_mode_example.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    grasping_mode_example
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/robots/robot_control_example.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    robot_control_example
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../examples/scenes/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    scenes
  

    
  </span>
  
  

            </a>
            
              <label class="md-nav__link " for="__nav_3_3_7">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    scenes
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/scenes/scene_selector.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    scene_selector
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/scenes/scene_tour_demo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    scene_tour_demo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/scenes/traversability_map_example.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    traversability_map_example
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../examples/simulator/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    simulator
  

    
  </span>
  
  

            </a>
            
              <label class="md-nav__link " for="__nav_3_3_8">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    simulator
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/simulator/sim_save_load_example.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    sim_save_load_example
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../macros.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    macros
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../maps/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    maps
  

    
  </span>
  
  

            </a>
            
              <label class="md-nav__link " for="__nav_3_5">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    maps
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../maps/map_base.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    map_base
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../maps/segmentation_map.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    segmentation_map
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../maps/traversable_map.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    traversable_map
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../object_states/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    object_states
  

    
  </span>
  
  

            </a>
            
              <label class="md-nav__link " for="__nav_3_6">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    object_states
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/aabb.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    aabb
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/adjacency.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    adjacency
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/attached_to.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    attached_to
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/burnt.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    burnt
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/contact_bodies.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    contact_bodies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/contact_particles.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    contact_particles
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/contact_subscribed_state_mixin.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    contact_subscribed_state_mixin
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/cooked.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    cooked
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/covered.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    covered
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/factory.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    factory
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/filled.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    filled
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/folded.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    folded
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/frozen.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    frozen
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/heat_source_or_sink.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    heat_source_or_sink
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/heated.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    heated
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/inside.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    inside
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/joint_break_subscribed_state_mixin.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    joint_break_subscribed_state_mixin
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/kinematics.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    kinematics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/link_based_state_mixin.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    link_based_state_mixin
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/max_temperature.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    max_temperature
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/next_to.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    next_to
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/object_state_base.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    object_state_base
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/on_fire.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    on_fire
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/on_top.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    on_top
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/open.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    open
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/overlaid.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    overlaid
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/particle_modifier.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    particle_modifier
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/particle_source_or_sink.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    particle_source_or_sink
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/pose.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    pose
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/saturated.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    saturated
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/sliced.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    sliced
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/slicer.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    slicer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/temperature.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    temperature
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/toggle.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    toggle
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/touching.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    touching
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/under.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    under
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/unfolded.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    unfolded
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/update_state_mixin.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    update_state_mixin
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/water_sink.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    water_sink
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../object_states/water_source.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    water_source
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    objects
  

    
  </span>
  
  

            </a>
            
              <label class="md-nav__link " for="__nav_3_7">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    objects
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="controllable_object.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    controllable_object
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    
  
    dataset_object
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="dataset_object.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    
  
    dataset_object
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#objects.dataset_object" class="md-nav__link">
    <span class="md-ellipsis">
      
        objects.dataset_object
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#objects.dataset_object.DatasetObject" class="md-nav__link">
    <span class="md-ellipsis">
      
        DatasetObject
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DatasetObject">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#objects.dataset_object.DatasetObject.avg_obj_dims" class="md-nav__link">
    <span class="md-ellipsis">
      
        avg_obj_dims
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects.dataset_object.DatasetObject.base_link_offset" class="md-nav__link">
    <span class="md-ellipsis">
      
        base_link_offset
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects.dataset_object.DatasetObject.bddl_object_scope" class="md-nav__link">
    <span class="md-ellipsis">
      
        bddl_object_scope
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects.dataset_object.DatasetObject.heights_per_link" class="md-nav__link">
    <span class="md-ellipsis">
      
        heights_per_link
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects.dataset_object.DatasetObject.in_rooms" class="md-nav__link">
    <span class="md-ellipsis">
      
        in_rooms
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects.dataset_object.DatasetObject.metadata" class="md-nav__link">
    <span class="md-ellipsis">
      
        metadata
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects.dataset_object.DatasetObject.native_bbox" class="md-nav__link">
    <span class="md-ellipsis">
      
        native_bbox
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects.dataset_object.DatasetObject.native_link_bboxes" class="md-nav__link">
    <span class="md-ellipsis">
      
        native_link_bboxes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects.dataset_object.DatasetObject.orientations" class="md-nav__link">
    <span class="md-ellipsis">
      
        orientations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects.dataset_object.DatasetObject.scaled_bbox_center_in_base_frame" class="md-nav__link">
    <span class="md-ellipsis">
      
        scaled_bbox_center_in_base_frame
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects.dataset_object.DatasetObject.scales_in_link_frame" class="md-nav__link">
    <span class="md-ellipsis">
      
        scales_in_link_frame
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects.dataset_object.DatasetObject.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__()
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects.dataset_object.DatasetObject.get_base_aligned_bbox" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_base_aligned_bbox()
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects.dataset_object.DatasetObject.sample_orientation" class="md-nav__link">
    <span class="md-ellipsis">
      
        sample_orientation()
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects.dataset_object.DatasetObject.set_bbox_center_position_orientation" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_bbox_center_position_orientation()
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="light_object.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    light_object
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="object_base.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    object_base
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="primitive_object.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    primitive_object
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="stateful_object.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    stateful_object
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="usd_object.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    usd_object
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../prims/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    prims
  

    
  </span>
  
  

            </a>
            
              <label class="md-nav__link " for="__nav_3_8">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    prims
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../prims/cloth_prim.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    cloth_prim
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../prims/entity_prim.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    entity_prim
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../prims/geom_prim.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    geom_prim
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../prims/joint_prim.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    joint_prim
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../prims/material_prim.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    material_prim
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../prims/prim_base.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prim_base
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../prims/rigid_prim.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    rigid_prim
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../prims/xform_prim.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    xform_prim
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../renderer_settings/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    renderer_settings
  

    
  </span>
  
  

            </a>
            
              <label class="md-nav__link " for="__nav_3_9">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    renderer_settings
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../renderer_settings/common_settings.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    common_settings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../renderer_settings/path_tracing_settings.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    path_tracing_settings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../renderer_settings/post_processing_settings.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    post_processing_settings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../renderer_settings/real_time_settings.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    real_time_settings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../renderer_settings/renderer_settings.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    renderer_settings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../renderer_settings/settings_base.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    settings_base
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_10" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../reward_functions/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    reward_functions
  

    
  </span>
  
  

            </a>
            
              <label class="md-nav__link " for="__nav_3_10">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    reward_functions
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../reward_functions/collision_reward.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    collision_reward
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../reward_functions/point_goal_reward.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    point_goal_reward
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../reward_functions/potential_reward.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    potential_reward
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../reward_functions/reaching_goal_reward.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    reaching_goal_reward
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../reward_functions/reward_function_base.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    reward_function_base
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_11" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../robots/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    robots
  

    
  </span>
  
  

            </a>
            
              <label class="md-nav__link " for="__nav_3_11">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    robots
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../robots/active_camera_robot.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    active_camera_robot
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../robots/fetch.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    fetch
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../robots/freight.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    freight
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../robots/husky.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    husky
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../robots/locobot.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    locobot
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../robots/locomotion_robot.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    locomotion_robot
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../robots/manipulation_robot.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    manipulation_robot
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../robots/robot_base.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    robot_base
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../robots/tiago.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    tiago
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../robots/turtlebot.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    turtlebot
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../robots/two_wheel_robot.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    two_wheel_robot
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_12" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../scenes/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    scenes
  

    
  </span>
  
  

            </a>
            
              <label class="md-nav__link " for="__nav_3_12">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    scenes
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../scenes/interactive_traversable_scene.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    interactive_traversable_scene
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../scenes/scene_base.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    scene_base
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../scenes/static_traversable_scene.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    static_traversable_scene
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../scenes/traversable_scene.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    traversable_scene
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_13" >
        
          <label class="md-nav__link" for="__nav_3_13" id="__nav_3_13_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    scripts
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_13">
            <span class="md-nav__icon md-icon"></span>
            
  
    scripts
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../scripts/setup.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_14" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../sensors/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    sensors
  

    
  </span>
  
  

            </a>
            
              <label class="md-nav__link " for="__nav_3_14">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_14">
            <span class="md-nav__icon md-icon"></span>
            
  
    sensors
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../sensors/dropout_sensor_noise.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    dropout_sensor_noise
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../sensors/scan_sensor.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    scan_sensor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../sensors/sensor_base.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    sensor_base
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../sensors/sensor_noise_base.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    sensor_noise_base
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../sensors/vision_sensor.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    vision_sensor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../simulator.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    simulator
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_16" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../systems/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    systems
  

    
  </span>
  
  

            </a>
            
              <label class="md-nav__link " for="__nav_3_16">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_16">
            <span class="md-nav__icon md-icon"></span>
            
  
    systems
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../systems/macro_particle_system.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    macro_particle_system
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../systems/micro_particle_system.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    micro_particle_system
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../systems/system_base.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    system_base
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_17" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../tasks/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    tasks
  

    
  </span>
  
  

            </a>
            
              <label class="md-nav__link " for="__nav_3_17">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_17_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_17">
            <span class="md-nav__icon md-icon"></span>
            
  
    tasks
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tasks/bddl_backend.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    bddl_backend
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tasks/behavior_task.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    behavior_task
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tasks/dummy_task.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    dummy_task
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tasks/point_navigation_task.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    point_navigation_task
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tasks/point_reaching_task.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    point_reaching_task
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tasks/task_base.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    task_base
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_18" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../termination_conditions/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    termination_conditions
  

    
  </span>
  
  

            </a>
            
              <label class="md-nav__link " for="__nav_3_18">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_18_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_18">
            <span class="md-nav__icon md-icon"></span>
            
  
    termination_conditions
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../termination_conditions/falling.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    falling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../termination_conditions/max_collision.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    max_collision
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../termination_conditions/point_goal.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    point_goal
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../termination_conditions/predicate_goal.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    predicate_goal
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../termination_conditions/reaching_goal.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    reaching_goal
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../termination_conditions/termination_condition_base.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    termination_condition_base
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../termination_conditions/timeout.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    timeout
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../transition_rules.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    transition_rules
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_20" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../utils/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    utils
  

    
  </span>
  
  

            </a>
            
              <label class="md-nav__link " for="__nav_3_20">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_20_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_20">
            <span class="md-nav__icon md-icon"></span>
            
  
    utils
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utils/asset_utils.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    asset_utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utils/config_utils.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    config_utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utils/constants.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    constants
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utils/control_utils.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    control_utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utils/deprecated_utils.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    deprecated_utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utils/geometry_utils.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    geometry_utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utils/git_utils.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    git_utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utils/gym_utils.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    gym_utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utils/object_state_utils.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    object_state_utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utils/physx_utils.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    physx_utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utils/processing_utils.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    processing_utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utils/python_utils.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    python_utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utils/registry_utils.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    registry_utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utils/render_utils.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    render_utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utils/sampling_utils.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    sampling_utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utils/sim_utils.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    sim_utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utils/transform_utils.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    transform_utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utils/ui_utils.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    ui_utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utils/usd_utils.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    usd_utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utils/vision_utils.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    vision_utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_21" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../wrappers/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    wrappers
  

    
  </span>
  
  

            </a>
            
              <label class="md-nav__link " for="__nav_3_21">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_21_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_21">
            <span class="md-nav__icon md-icon"></span>
            
  
    wrappers
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../wrappers/wrapper_base.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    wrapper_base
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#objects.dataset_object" class="md-nav__link">
    <span class="md-ellipsis">
      
        objects.dataset_object
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#objects.dataset_object.DatasetObject" class="md-nav__link">
    <span class="md-ellipsis">
      
        DatasetObject
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DatasetObject">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#objects.dataset_object.DatasetObject.avg_obj_dims" class="md-nav__link">
    <span class="md-ellipsis">
      
        avg_obj_dims
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects.dataset_object.DatasetObject.base_link_offset" class="md-nav__link">
    <span class="md-ellipsis">
      
        base_link_offset
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects.dataset_object.DatasetObject.bddl_object_scope" class="md-nav__link">
    <span class="md-ellipsis">
      
        bddl_object_scope
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects.dataset_object.DatasetObject.heights_per_link" class="md-nav__link">
    <span class="md-ellipsis">
      
        heights_per_link
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects.dataset_object.DatasetObject.in_rooms" class="md-nav__link">
    <span class="md-ellipsis">
      
        in_rooms
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects.dataset_object.DatasetObject.metadata" class="md-nav__link">
    <span class="md-ellipsis">
      
        metadata
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects.dataset_object.DatasetObject.native_bbox" class="md-nav__link">
    <span class="md-ellipsis">
      
        native_bbox
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects.dataset_object.DatasetObject.native_link_bboxes" class="md-nav__link">
    <span class="md-ellipsis">
      
        native_link_bboxes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects.dataset_object.DatasetObject.orientations" class="md-nav__link">
    <span class="md-ellipsis">
      
        orientations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects.dataset_object.DatasetObject.scaled_bbox_center_in_base_frame" class="md-nav__link">
    <span class="md-ellipsis">
      
        scaled_bbox_center_in_base_frame
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects.dataset_object.DatasetObject.scales_in_link_frame" class="md-nav__link">
    <span class="md-ellipsis">
      
        scales_in_link_frame
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects.dataset_object.DatasetObject.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__()
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects.dataset_object.DatasetObject.get_base_aligned_bbox" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_base_aligned_bbox()
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects.dataset_object.DatasetObject.sample_orientation" class="md-nav__link">
    <span class="md-ellipsis">
      
        sample_orientation()
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects.dataset_object.DatasetObject.set_bbox_center_position_orientation" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_bbox_center_position_orientation()
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>dataset_object</h1>

<div class="doc doc-object doc-module">


<a id="objects.dataset_object"></a>
  <div class="doc doc-contents first">

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 class="doc doc-heading" id="objects.dataset_object.DatasetObject">
        <code>DatasetObject</code>


</h2>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><span title="omnigibson.objects.usd_object.USDObject">USDObject</span></code></p>

  
      <p>DatasetObjects are instantiated from a USD file. It is an object that is assumed to come from an iG-supported
dataset. These objects should contain additional metadata, including aggregate statistics across the
object's category, e.g., avg dims, bounding boxes, masses, etc.</p>


        <details class="quote">
          <summary>Source code in <code>objects\dataset_object.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-35"> 35</a></span>
<span class="normal"><a href="#__codelineno-0-36"> 36</a></span>
<span class="normal"><a href="#__codelineno-0-37"> 37</a></span>
<span class="normal"><a href="#__codelineno-0-38"> 38</a></span>
<span class="normal"><a href="#__codelineno-0-39"> 39</a></span>
<span class="normal"><a href="#__codelineno-0-40"> 40</a></span>
<span class="normal"><a href="#__codelineno-0-41"> 41</a></span>
<span class="normal"><a href="#__codelineno-0-42"> 42</a></span>
<span class="normal"><a href="#__codelineno-0-43"> 43</a></span>
<span class="normal"><a href="#__codelineno-0-44"> 44</a></span>
<span class="normal"><a href="#__codelineno-0-45"> 45</a></span>
<span class="normal"><a href="#__codelineno-0-46"> 46</a></span>
<span class="normal"><a href="#__codelineno-0-47"> 47</a></span>
<span class="normal"><a href="#__codelineno-0-48"> 48</a></span>
<span class="normal"><a href="#__codelineno-0-49"> 49</a></span>
<span class="normal"><a href="#__codelineno-0-50"> 50</a></span>
<span class="normal"><a href="#__codelineno-0-51"> 51</a></span>
<span class="normal"><a href="#__codelineno-0-52"> 52</a></span>
<span class="normal"><a href="#__codelineno-0-53"> 53</a></span>
<span class="normal"><a href="#__codelineno-0-54"> 54</a></span>
<span class="normal"><a href="#__codelineno-0-55"> 55</a></span>
<span class="normal"><a href="#__codelineno-0-56"> 56</a></span>
<span class="normal"><a href="#__codelineno-0-57"> 57</a></span>
<span class="normal"><a href="#__codelineno-0-58"> 58</a></span>
<span class="normal"><a href="#__codelineno-0-59"> 59</a></span>
<span class="normal"><a href="#__codelineno-0-60"> 60</a></span>
<span class="normal"><a href="#__codelineno-0-61"> 61</a></span>
<span class="normal"><a href="#__codelineno-0-62"> 62</a></span>
<span class="normal"><a href="#__codelineno-0-63"> 63</a></span>
<span class="normal"><a href="#__codelineno-0-64"> 64</a></span>
<span class="normal"><a href="#__codelineno-0-65"> 65</a></span>
<span class="normal"><a href="#__codelineno-0-66"> 66</a></span>
<span class="normal"><a href="#__codelineno-0-67"> 67</a></span>
<span class="normal"><a href="#__codelineno-0-68"> 68</a></span>
<span class="normal"><a href="#__codelineno-0-69"> 69</a></span>
<span class="normal"><a href="#__codelineno-0-70"> 70</a></span>
<span class="normal"><a href="#__codelineno-0-71"> 71</a></span>
<span class="normal"><a href="#__codelineno-0-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-0-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-0-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-0-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-0-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-0-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-0-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-0-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-0-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-0-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-0-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-0-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-0-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-0-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-0-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-0-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-0-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-0-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-0-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-0-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-0-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-0-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-0-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-0-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-0-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span>
<span class="normal"><a href="#__codelineno-0-153">153</a></span>
<span class="normal"><a href="#__codelineno-0-154">154</a></span>
<span class="normal"><a href="#__codelineno-0-155">155</a></span>
<span class="normal"><a href="#__codelineno-0-156">156</a></span>
<span class="normal"><a href="#__codelineno-0-157">157</a></span>
<span class="normal"><a href="#__codelineno-0-158">158</a></span>
<span class="normal"><a href="#__codelineno-0-159">159</a></span>
<span class="normal"><a href="#__codelineno-0-160">160</a></span>
<span class="normal"><a href="#__codelineno-0-161">161</a></span>
<span class="normal"><a href="#__codelineno-0-162">162</a></span>
<span class="normal"><a href="#__codelineno-0-163">163</a></span>
<span class="normal"><a href="#__codelineno-0-164">164</a></span>
<span class="normal"><a href="#__codelineno-0-165">165</a></span>
<span class="normal"><a href="#__codelineno-0-166">166</a></span>
<span class="normal"><a href="#__codelineno-0-167">167</a></span>
<span class="normal"><a href="#__codelineno-0-168">168</a></span>
<span class="normal"><a href="#__codelineno-0-169">169</a></span>
<span class="normal"><a href="#__codelineno-0-170">170</a></span>
<span class="normal"><a href="#__codelineno-0-171">171</a></span>
<span class="normal"><a href="#__codelineno-0-172">172</a></span>
<span class="normal"><a href="#__codelineno-0-173">173</a></span>
<span class="normal"><a href="#__codelineno-0-174">174</a></span>
<span class="normal"><a href="#__codelineno-0-175">175</a></span>
<span class="normal"><a href="#__codelineno-0-176">176</a></span>
<span class="normal"><a href="#__codelineno-0-177">177</a></span>
<span class="normal"><a href="#__codelineno-0-178">178</a></span>
<span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span>
<span class="normal"><a href="#__codelineno-0-200">200</a></span>
<span class="normal"><a href="#__codelineno-0-201">201</a></span>
<span class="normal"><a href="#__codelineno-0-202">202</a></span>
<span class="normal"><a href="#__codelineno-0-203">203</a></span>
<span class="normal"><a href="#__codelineno-0-204">204</a></span>
<span class="normal"><a href="#__codelineno-0-205">205</a></span>
<span class="normal"><a href="#__codelineno-0-206">206</a></span>
<span class="normal"><a href="#__codelineno-0-207">207</a></span>
<span class="normal"><a href="#__codelineno-0-208">208</a></span>
<span class="normal"><a href="#__codelineno-0-209">209</a></span>
<span class="normal"><a href="#__codelineno-0-210">210</a></span>
<span class="normal"><a href="#__codelineno-0-211">211</a></span>
<span class="normal"><a href="#__codelineno-0-212">212</a></span>
<span class="normal"><a href="#__codelineno-0-213">213</a></span>
<span class="normal"><a href="#__codelineno-0-214">214</a></span>
<span class="normal"><a href="#__codelineno-0-215">215</a></span>
<span class="normal"><a href="#__codelineno-0-216">216</a></span>
<span class="normal"><a href="#__codelineno-0-217">217</a></span>
<span class="normal"><a href="#__codelineno-0-218">218</a></span>
<span class="normal"><a href="#__codelineno-0-219">219</a></span>
<span class="normal"><a href="#__codelineno-0-220">220</a></span>
<span class="normal"><a href="#__codelineno-0-221">221</a></span>
<span class="normal"><a href="#__codelineno-0-222">222</a></span>
<span class="normal"><a href="#__codelineno-0-223">223</a></span>
<span class="normal"><a href="#__codelineno-0-224">224</a></span>
<span class="normal"><a href="#__codelineno-0-225">225</a></span>
<span class="normal"><a href="#__codelineno-0-226">226</a></span>
<span class="normal"><a href="#__codelineno-0-227">227</a></span>
<span class="normal"><a href="#__codelineno-0-228">228</a></span>
<span class="normal"><a href="#__codelineno-0-229">229</a></span>
<span class="normal"><a href="#__codelineno-0-230">230</a></span>
<span class="normal"><a href="#__codelineno-0-231">231</a></span>
<span class="normal"><a href="#__codelineno-0-232">232</a></span>
<span class="normal"><a href="#__codelineno-0-233">233</a></span>
<span class="normal"><a href="#__codelineno-0-234">234</a></span>
<span class="normal"><a href="#__codelineno-0-235">235</a></span>
<span class="normal"><a href="#__codelineno-0-236">236</a></span>
<span class="normal"><a href="#__codelineno-0-237">237</a></span>
<span class="normal"><a href="#__codelineno-0-238">238</a></span>
<span class="normal"><a href="#__codelineno-0-239">239</a></span>
<span class="normal"><a href="#__codelineno-0-240">240</a></span>
<span class="normal"><a href="#__codelineno-0-241">241</a></span>
<span class="normal"><a href="#__codelineno-0-242">242</a></span>
<span class="normal"><a href="#__codelineno-0-243">243</a></span>
<span class="normal"><a href="#__codelineno-0-244">244</a></span>
<span class="normal"><a href="#__codelineno-0-245">245</a></span>
<span class="normal"><a href="#__codelineno-0-246">246</a></span>
<span class="normal"><a href="#__codelineno-0-247">247</a></span>
<span class="normal"><a href="#__codelineno-0-248">248</a></span>
<span class="normal"><a href="#__codelineno-0-249">249</a></span>
<span class="normal"><a href="#__codelineno-0-250">250</a></span>
<span class="normal"><a href="#__codelineno-0-251">251</a></span>
<span class="normal"><a href="#__codelineno-0-252">252</a></span>
<span class="normal"><a href="#__codelineno-0-253">253</a></span>
<span class="normal"><a href="#__codelineno-0-254">254</a></span>
<span class="normal"><a href="#__codelineno-0-255">255</a></span>
<span class="normal"><a href="#__codelineno-0-256">256</a></span>
<span class="normal"><a href="#__codelineno-0-257">257</a></span>
<span class="normal"><a href="#__codelineno-0-258">258</a></span>
<span class="normal"><a href="#__codelineno-0-259">259</a></span>
<span class="normal"><a href="#__codelineno-0-260">260</a></span>
<span class="normal"><a href="#__codelineno-0-261">261</a></span>
<span class="normal"><a href="#__codelineno-0-262">262</a></span>
<span class="normal"><a href="#__codelineno-0-263">263</a></span>
<span class="normal"><a href="#__codelineno-0-264">264</a></span>
<span class="normal"><a href="#__codelineno-0-265">265</a></span>
<span class="normal"><a href="#__codelineno-0-266">266</a></span>
<span class="normal"><a href="#__codelineno-0-267">267</a></span>
<span class="normal"><a href="#__codelineno-0-268">268</a></span>
<span class="normal"><a href="#__codelineno-0-269">269</a></span>
<span class="normal"><a href="#__codelineno-0-270">270</a></span>
<span class="normal"><a href="#__codelineno-0-271">271</a></span>
<span class="normal"><a href="#__codelineno-0-272">272</a></span>
<span class="normal"><a href="#__codelineno-0-273">273</a></span>
<span class="normal"><a href="#__codelineno-0-274">274</a></span>
<span class="normal"><a href="#__codelineno-0-275">275</a></span>
<span class="normal"><a href="#__codelineno-0-276">276</a></span>
<span class="normal"><a href="#__codelineno-0-277">277</a></span>
<span class="normal"><a href="#__codelineno-0-278">278</a></span>
<span class="normal"><a href="#__codelineno-0-279">279</a></span>
<span class="normal"><a href="#__codelineno-0-280">280</a></span>
<span class="normal"><a href="#__codelineno-0-281">281</a></span>
<span class="normal"><a href="#__codelineno-0-282">282</a></span>
<span class="normal"><a href="#__codelineno-0-283">283</a></span>
<span class="normal"><a href="#__codelineno-0-284">284</a></span>
<span class="normal"><a href="#__codelineno-0-285">285</a></span>
<span class="normal"><a href="#__codelineno-0-286">286</a></span>
<span class="normal"><a href="#__codelineno-0-287">287</a></span>
<span class="normal"><a href="#__codelineno-0-288">288</a></span>
<span class="normal"><a href="#__codelineno-0-289">289</a></span>
<span class="normal"><a href="#__codelineno-0-290">290</a></span>
<span class="normal"><a href="#__codelineno-0-291">291</a></span>
<span class="normal"><a href="#__codelineno-0-292">292</a></span>
<span class="normal"><a href="#__codelineno-0-293">293</a></span>
<span class="normal"><a href="#__codelineno-0-294">294</a></span>
<span class="normal"><a href="#__codelineno-0-295">295</a></span>
<span class="normal"><a href="#__codelineno-0-296">296</a></span>
<span class="normal"><a href="#__codelineno-0-297">297</a></span>
<span class="normal"><a href="#__codelineno-0-298">298</a></span>
<span class="normal"><a href="#__codelineno-0-299">299</a></span>
<span class="normal"><a href="#__codelineno-0-300">300</a></span>
<span class="normal"><a href="#__codelineno-0-301">301</a></span>
<span class="normal"><a href="#__codelineno-0-302">302</a></span>
<span class="normal"><a href="#__codelineno-0-303">303</a></span>
<span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span>
<span class="normal"><a href="#__codelineno-0-306">306</a></span>
<span class="normal"><a href="#__codelineno-0-307">307</a></span>
<span class="normal"><a href="#__codelineno-0-308">308</a></span>
<span class="normal"><a href="#__codelineno-0-309">309</a></span>
<span class="normal"><a href="#__codelineno-0-310">310</a></span>
<span class="normal"><a href="#__codelineno-0-311">311</a></span>
<span class="normal"><a href="#__codelineno-0-312">312</a></span>
<span class="normal"><a href="#__codelineno-0-313">313</a></span>
<span class="normal"><a href="#__codelineno-0-314">314</a></span>
<span class="normal"><a href="#__codelineno-0-315">315</a></span>
<span class="normal"><a href="#__codelineno-0-316">316</a></span>
<span class="normal"><a href="#__codelineno-0-317">317</a></span>
<span class="normal"><a href="#__codelineno-0-318">318</a></span>
<span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span>
<span class="normal"><a href="#__codelineno-0-321">321</a></span>
<span class="normal"><a href="#__codelineno-0-322">322</a></span>
<span class="normal"><a href="#__codelineno-0-323">323</a></span>
<span class="normal"><a href="#__codelineno-0-324">324</a></span>
<span class="normal"><a href="#__codelineno-0-325">325</a></span>
<span class="normal"><a href="#__codelineno-0-326">326</a></span>
<span class="normal"><a href="#__codelineno-0-327">327</a></span>
<span class="normal"><a href="#__codelineno-0-328">328</a></span>
<span class="normal"><a href="#__codelineno-0-329">329</a></span>
<span class="normal"><a href="#__codelineno-0-330">330</a></span>
<span class="normal"><a href="#__codelineno-0-331">331</a></span>
<span class="normal"><a href="#__codelineno-0-332">332</a></span>
<span class="normal"><a href="#__codelineno-0-333">333</a></span>
<span class="normal"><a href="#__codelineno-0-334">334</a></span>
<span class="normal"><a href="#__codelineno-0-335">335</a></span>
<span class="normal"><a href="#__codelineno-0-336">336</a></span>
<span class="normal"><a href="#__codelineno-0-337">337</a></span>
<span class="normal"><a href="#__codelineno-0-338">338</a></span>
<span class="normal"><a href="#__codelineno-0-339">339</a></span>
<span class="normal"><a href="#__codelineno-0-340">340</a></span>
<span class="normal"><a href="#__codelineno-0-341">341</a></span>
<span class="normal"><a href="#__codelineno-0-342">342</a></span>
<span class="normal"><a href="#__codelineno-0-343">343</a></span>
<span class="normal"><a href="#__codelineno-0-344">344</a></span>
<span class="normal"><a href="#__codelineno-0-345">345</a></span>
<span class="normal"><a href="#__codelineno-0-346">346</a></span>
<span class="normal"><a href="#__codelineno-0-347">347</a></span>
<span class="normal"><a href="#__codelineno-0-348">348</a></span>
<span class="normal"><a href="#__codelineno-0-349">349</a></span>
<span class="normal"><a href="#__codelineno-0-350">350</a></span>
<span class="normal"><a href="#__codelineno-0-351">351</a></span>
<span class="normal"><a href="#__codelineno-0-352">352</a></span>
<span class="normal"><a href="#__codelineno-0-353">353</a></span>
<span class="normal"><a href="#__codelineno-0-354">354</a></span>
<span class="normal"><a href="#__codelineno-0-355">355</a></span>
<span class="normal"><a href="#__codelineno-0-356">356</a></span>
<span class="normal"><a href="#__codelineno-0-357">357</a></span>
<span class="normal"><a href="#__codelineno-0-358">358</a></span>
<span class="normal"><a href="#__codelineno-0-359">359</a></span>
<span class="normal"><a href="#__codelineno-0-360">360</a></span>
<span class="normal"><a href="#__codelineno-0-361">361</a></span>
<span class="normal"><a href="#__codelineno-0-362">362</a></span>
<span class="normal"><a href="#__codelineno-0-363">363</a></span>
<span class="normal"><a href="#__codelineno-0-364">364</a></span>
<span class="normal"><a href="#__codelineno-0-365">365</a></span>
<span class="normal"><a href="#__codelineno-0-366">366</a></span>
<span class="normal"><a href="#__codelineno-0-367">367</a></span>
<span class="normal"><a href="#__codelineno-0-368">368</a></span>
<span class="normal"><a href="#__codelineno-0-369">369</a></span>
<span class="normal"><a href="#__codelineno-0-370">370</a></span>
<span class="normal"><a href="#__codelineno-0-371">371</a></span>
<span class="normal"><a href="#__codelineno-0-372">372</a></span>
<span class="normal"><a href="#__codelineno-0-373">373</a></span>
<span class="normal"><a href="#__codelineno-0-374">374</a></span>
<span class="normal"><a href="#__codelineno-0-375">375</a></span>
<span class="normal"><a href="#__codelineno-0-376">376</a></span>
<span class="normal"><a href="#__codelineno-0-377">377</a></span>
<span class="normal"><a href="#__codelineno-0-378">378</a></span>
<span class="normal"><a href="#__codelineno-0-379">379</a></span>
<span class="normal"><a href="#__codelineno-0-380">380</a></span>
<span class="normal"><a href="#__codelineno-0-381">381</a></span>
<span class="normal"><a href="#__codelineno-0-382">382</a></span>
<span class="normal"><a href="#__codelineno-0-383">383</a></span>
<span class="normal"><a href="#__codelineno-0-384">384</a></span>
<span class="normal"><a href="#__codelineno-0-385">385</a></span>
<span class="normal"><a href="#__codelineno-0-386">386</a></span>
<span class="normal"><a href="#__codelineno-0-387">387</a></span>
<span class="normal"><a href="#__codelineno-0-388">388</a></span>
<span class="normal"><a href="#__codelineno-0-389">389</a></span>
<span class="normal"><a href="#__codelineno-0-390">390</a></span>
<span class="normal"><a href="#__codelineno-0-391">391</a></span>
<span class="normal"><a href="#__codelineno-0-392">392</a></span>
<span class="normal"><a href="#__codelineno-0-393">393</a></span>
<span class="normal"><a href="#__codelineno-0-394">394</a></span>
<span class="normal"><a href="#__codelineno-0-395">395</a></span>
<span class="normal"><a href="#__codelineno-0-396">396</a></span>
<span class="normal"><a href="#__codelineno-0-397">397</a></span>
<span class="normal"><a href="#__codelineno-0-398">398</a></span>
<span class="normal"><a href="#__codelineno-0-399">399</a></span>
<span class="normal"><a href="#__codelineno-0-400">400</a></span>
<span class="normal"><a href="#__codelineno-0-401">401</a></span>
<span class="normal"><a href="#__codelineno-0-402">402</a></span>
<span class="normal"><a href="#__codelineno-0-403">403</a></span>
<span class="normal"><a href="#__codelineno-0-404">404</a></span>
<span class="normal"><a href="#__codelineno-0-405">405</a></span>
<span class="normal"><a href="#__codelineno-0-406">406</a></span>
<span class="normal"><a href="#__codelineno-0-407">407</a></span>
<span class="normal"><a href="#__codelineno-0-408">408</a></span>
<span class="normal"><a href="#__codelineno-0-409">409</a></span>
<span class="normal"><a href="#__codelineno-0-410">410</a></span>
<span class="normal"><a href="#__codelineno-0-411">411</a></span>
<span class="normal"><a href="#__codelineno-0-412">412</a></span>
<span class="normal"><a href="#__codelineno-0-413">413</a></span>
<span class="normal"><a href="#__codelineno-0-414">414</a></span>
<span class="normal"><a href="#__codelineno-0-415">415</a></span>
<span class="normal"><a href="#__codelineno-0-416">416</a></span>
<span class="normal"><a href="#__codelineno-0-417">417</a></span>
<span class="normal"><a href="#__codelineno-0-418">418</a></span>
<span class="normal"><a href="#__codelineno-0-419">419</a></span>
<span class="normal"><a href="#__codelineno-0-420">420</a></span>
<span class="normal"><a href="#__codelineno-0-421">421</a></span>
<span class="normal"><a href="#__codelineno-0-422">422</a></span>
<span class="normal"><a href="#__codelineno-0-423">423</a></span>
<span class="normal"><a href="#__codelineno-0-424">424</a></span>
<span class="normal"><a href="#__codelineno-0-425">425</a></span>
<span class="normal"><a href="#__codelineno-0-426">426</a></span>
<span class="normal"><a href="#__codelineno-0-427">427</a></span>
<span class="normal"><a href="#__codelineno-0-428">428</a></span>
<span class="normal"><a href="#__codelineno-0-429">429</a></span>
<span class="normal"><a href="#__codelineno-0-430">430</a></span>
<span class="normal"><a href="#__codelineno-0-431">431</a></span>
<span class="normal"><a href="#__codelineno-0-432">432</a></span>
<span class="normal"><a href="#__codelineno-0-433">433</a></span>
<span class="normal"><a href="#__codelineno-0-434">434</a></span>
<span class="normal"><a href="#__codelineno-0-435">435</a></span>
<span class="normal"><a href="#__codelineno-0-436">436</a></span>
<span class="normal"><a href="#__codelineno-0-437">437</a></span>
<span class="normal"><a href="#__codelineno-0-438">438</a></span>
<span class="normal"><a href="#__codelineno-0-439">439</a></span>
<span class="normal"><a href="#__codelineno-0-440">440</a></span>
<span class="normal"><a href="#__codelineno-0-441">441</a></span>
<span class="normal"><a href="#__codelineno-0-442">442</a></span>
<span class="normal"><a href="#__codelineno-0-443">443</a></span>
<span class="normal"><a href="#__codelineno-0-444">444</a></span>
<span class="normal"><a href="#__codelineno-0-445">445</a></span>
<span class="normal"><a href="#__codelineno-0-446">446</a></span>
<span class="normal"><a href="#__codelineno-0-447">447</a></span>
<span class="normal"><a href="#__codelineno-0-448">448</a></span>
<span class="normal"><a href="#__codelineno-0-449">449</a></span>
<span class="normal"><a href="#__codelineno-0-450">450</a></span>
<span class="normal"><a href="#__codelineno-0-451">451</a></span>
<span class="normal"><a href="#__codelineno-0-452">452</a></span>
<span class="normal"><a href="#__codelineno-0-453">453</a></span>
<span class="normal"><a href="#__codelineno-0-454">454</a></span>
<span class="normal"><a href="#__codelineno-0-455">455</a></span>
<span class="normal"><a href="#__codelineno-0-456">456</a></span>
<span class="normal"><a href="#__codelineno-0-457">457</a></span>
<span class="normal"><a href="#__codelineno-0-458">458</a></span>
<span class="normal"><a href="#__codelineno-0-459">459</a></span>
<span class="normal"><a href="#__codelineno-0-460">460</a></span>
<span class="normal"><a href="#__codelineno-0-461">461</a></span>
<span class="normal"><a href="#__codelineno-0-462">462</a></span>
<span class="normal"><a href="#__codelineno-0-463">463</a></span>
<span class="normal"><a href="#__codelineno-0-464">464</a></span>
<span class="normal"><a href="#__codelineno-0-465">465</a></span>
<span class="normal"><a href="#__codelineno-0-466">466</a></span>
<span class="normal"><a href="#__codelineno-0-467">467</a></span>
<span class="normal"><a href="#__codelineno-0-468">468</a></span>
<span class="normal"><a href="#__codelineno-0-469">469</a></span>
<span class="normal"><a href="#__codelineno-0-470">470</a></span>
<span class="normal"><a href="#__codelineno-0-471">471</a></span>
<span class="normal"><a href="#__codelineno-0-472">472</a></span>
<span class="normal"><a href="#__codelineno-0-473">473</a></span>
<span class="normal"><a href="#__codelineno-0-474">474</a></span>
<span class="normal"><a href="#__codelineno-0-475">475</a></span>
<span class="normal"><a href="#__codelineno-0-476">476</a></span>
<span class="normal"><a href="#__codelineno-0-477">477</a></span>
<span class="normal"><a href="#__codelineno-0-478">478</a></span>
<span class="normal"><a href="#__codelineno-0-479">479</a></span>
<span class="normal"><a href="#__codelineno-0-480">480</a></span>
<span class="normal"><a href="#__codelineno-0-481">481</a></span>
<span class="normal"><a href="#__codelineno-0-482">482</a></span>
<span class="normal"><a href="#__codelineno-0-483">483</a></span>
<span class="normal"><a href="#__codelineno-0-484">484</a></span>
<span class="normal"><a href="#__codelineno-0-485">485</a></span>
<span class="normal"><a href="#__codelineno-0-486">486</a></span>
<span class="normal"><a href="#__codelineno-0-487">487</a></span>
<span class="normal"><a href="#__codelineno-0-488">488</a></span>
<span class="normal"><a href="#__codelineno-0-489">489</a></span>
<span class="normal"><a href="#__codelineno-0-490">490</a></span>
<span class="normal"><a href="#__codelineno-0-491">491</a></span>
<span class="normal"><a href="#__codelineno-0-492">492</a></span>
<span class="normal"><a href="#__codelineno-0-493">493</a></span>
<span class="normal"><a href="#__codelineno-0-494">494</a></span>
<span class="normal"><a href="#__codelineno-0-495">495</a></span>
<span class="normal"><a href="#__codelineno-0-496">496</a></span>
<span class="normal"><a href="#__codelineno-0-497">497</a></span>
<span class="normal"><a href="#__codelineno-0-498">498</a></span>
<span class="normal"><a href="#__codelineno-0-499">499</a></span>
<span class="normal"><a href="#__codelineno-0-500">500</a></span>
<span class="normal"><a href="#__codelineno-0-501">501</a></span>
<span class="normal"><a href="#__codelineno-0-502">502</a></span>
<span class="normal"><a href="#__codelineno-0-503">503</a></span>
<span class="normal"><a href="#__codelineno-0-504">504</a></span>
<span class="normal"><a href="#__codelineno-0-505">505</a></span>
<span class="normal"><a href="#__codelineno-0-506">506</a></span>
<span class="normal"><a href="#__codelineno-0-507">507</a></span>
<span class="normal"><a href="#__codelineno-0-508">508</a></span>
<span class="normal"><a href="#__codelineno-0-509">509</a></span>
<span class="normal"><a href="#__codelineno-0-510">510</a></span>
<span class="normal"><a href="#__codelineno-0-511">511</a></span>
<span class="normal"><a href="#__codelineno-0-512">512</a></span>
<span class="normal"><a href="#__codelineno-0-513">513</a></span>
<span class="normal"><a href="#__codelineno-0-514">514</a></span>
<span class="normal"><a href="#__codelineno-0-515">515</a></span>
<span class="normal"><a href="#__codelineno-0-516">516</a></span>
<span class="normal"><a href="#__codelineno-0-517">517</a></span>
<span class="normal"><a href="#__codelineno-0-518">518</a></span>
<span class="normal"><a href="#__codelineno-0-519">519</a></span>
<span class="normal"><a href="#__codelineno-0-520">520</a></span>
<span class="normal"><a href="#__codelineno-0-521">521</a></span>
<span class="normal"><a href="#__codelineno-0-522">522</a></span>
<span class="normal"><a href="#__codelineno-0-523">523</a></span>
<span class="normal"><a href="#__codelineno-0-524">524</a></span>
<span class="normal"><a href="#__codelineno-0-525">525</a></span>
<span class="normal"><a href="#__codelineno-0-526">526</a></span>
<span class="normal"><a href="#__codelineno-0-527">527</a></span>
<span class="normal"><a href="#__codelineno-0-528">528</a></span>
<span class="normal"><a href="#__codelineno-0-529">529</a></span>
<span class="normal"><a href="#__codelineno-0-530">530</a></span>
<span class="normal"><a href="#__codelineno-0-531">531</a></span>
<span class="normal"><a href="#__codelineno-0-532">532</a></span>
<span class="normal"><a href="#__codelineno-0-533">533</a></span>
<span class="normal"><a href="#__codelineno-0-534">534</a></span>
<span class="normal"><a href="#__codelineno-0-535">535</a></span>
<span class="normal"><a href="#__codelineno-0-536">536</a></span>
<span class="normal"><a href="#__codelineno-0-537">537</a></span>
<span class="normal"><a href="#__codelineno-0-538">538</a></span>
<span class="normal"><a href="#__codelineno-0-539">539</a></span>
<span class="normal"><a href="#__codelineno-0-540">540</a></span>
<span class="normal"><a href="#__codelineno-0-541">541</a></span>
<span class="normal"><a href="#__codelineno-0-542">542</a></span>
<span class="normal"><a href="#__codelineno-0-543">543</a></span>
<span class="normal"><a href="#__codelineno-0-544">544</a></span>
<span class="normal"><a href="#__codelineno-0-545">545</a></span>
<span class="normal"><a href="#__codelineno-0-546">546</a></span>
<span class="normal"><a href="#__codelineno-0-547">547</a></span>
<span class="normal"><a href="#__codelineno-0-548">548</a></span>
<span class="normal"><a href="#__codelineno-0-549">549</a></span>
<span class="normal"><a href="#__codelineno-0-550">550</a></span>
<span class="normal"><a href="#__codelineno-0-551">551</a></span>
<span class="normal"><a href="#__codelineno-0-552">552</a></span>
<span class="normal"><a href="#__codelineno-0-553">553</a></span>
<span class="normal"><a href="#__codelineno-0-554">554</a></span>
<span class="normal"><a href="#__codelineno-0-555">555</a></span>
<span class="normal"><a href="#__codelineno-0-556">556</a></span>
<span class="normal"><a href="#__codelineno-0-557">557</a></span>
<span class="normal"><a href="#__codelineno-0-558">558</a></span>
<span class="normal"><a href="#__codelineno-0-559">559</a></span>
<span class="normal"><a href="#__codelineno-0-560">560</a></span>
<span class="normal"><a href="#__codelineno-0-561">561</a></span>
<span class="normal"><a href="#__codelineno-0-562">562</a></span>
<span class="normal"><a href="#__codelineno-0-563">563</a></span>
<span class="normal"><a href="#__codelineno-0-564">564</a></span>
<span class="normal"><a href="#__codelineno-0-565">565</a></span>
<span class="normal"><a href="#__codelineno-0-566">566</a></span>
<span class="normal"><a href="#__codelineno-0-567">567</a></span>
<span class="normal"><a href="#__codelineno-0-568">568</a></span>
<span class="normal"><a href="#__codelineno-0-569">569</a></span>
<span class="normal"><a href="#__codelineno-0-570">570</a></span>
<span class="normal"><a href="#__codelineno-0-571">571</a></span>
<span class="normal"><a href="#__codelineno-0-572">572</a></span>
<span class="normal"><a href="#__codelineno-0-573">573</a></span>
<span class="normal"><a href="#__codelineno-0-574">574</a></span>
<span class="normal"><a href="#__codelineno-0-575">575</a></span>
<span class="normal"><a href="#__codelineno-0-576">576</a></span>
<span class="normal"><a href="#__codelineno-0-577">577</a></span>
<span class="normal"><a href="#__codelineno-0-578">578</a></span>
<span class="normal"><a href="#__codelineno-0-579">579</a></span>
<span class="normal"><a href="#__codelineno-0-580">580</a></span>
<span class="normal"><a href="#__codelineno-0-581">581</a></span>
<span class="normal"><a href="#__codelineno-0-582">582</a></span>
<span class="normal"><a href="#__codelineno-0-583">583</a></span>
<span class="normal"><a href="#__codelineno-0-584">584</a></span>
<span class="normal"><a href="#__codelineno-0-585">585</a></span>
<span class="normal"><a href="#__codelineno-0-586">586</a></span>
<span class="normal"><a href="#__codelineno-0-587">587</a></span>
<span class="normal"><a href="#__codelineno-0-588">588</a></span>
<span class="normal"><a href="#__codelineno-0-589">589</a></span>
<span class="normal"><a href="#__codelineno-0-590">590</a></span>
<span class="normal"><a href="#__codelineno-0-591">591</a></span>
<span class="normal"><a href="#__codelineno-0-592">592</a></span>
<span class="normal"><a href="#__codelineno-0-593">593</a></span>
<span class="normal"><a href="#__codelineno-0-594">594</a></span>
<span class="normal"><a href="#__codelineno-0-595">595</a></span>
<span class="normal"><a href="#__codelineno-0-596">596</a></span>
<span class="normal"><a href="#__codelineno-0-597">597</a></span>
<span class="normal"><a href="#__codelineno-0-598">598</a></span>
<span class="normal"><a href="#__codelineno-0-599">599</a></span>
<span class="normal"><a href="#__codelineno-0-600">600</a></span>
<span class="normal"><a href="#__codelineno-0-601">601</a></span>
<span class="normal"><a href="#__codelineno-0-602">602</a></span>
<span class="normal"><a href="#__codelineno-0-603">603</a></span>
<span class="normal"><a href="#__codelineno-0-604">604</a></span>
<span class="normal"><a href="#__codelineno-0-605">605</a></span>
<span class="normal"><a href="#__codelineno-0-606">606</a></span>
<span class="normal"><a href="#__codelineno-0-607">607</a></span>
<span class="normal"><a href="#__codelineno-0-608">608</a></span>
<span class="normal"><a href="#__codelineno-0-609">609</a></span>
<span class="normal"><a href="#__codelineno-0-610">610</a></span>
<span class="normal"><a href="#__codelineno-0-611">611</a></span>
<span class="normal"><a href="#__codelineno-0-612">612</a></span>
<span class="normal"><a href="#__codelineno-0-613">613</a></span>
<span class="normal"><a href="#__codelineno-0-614">614</a></span>
<span class="normal"><a href="#__codelineno-0-615">615</a></span>
<span class="normal"><a href="#__codelineno-0-616">616</a></span>
<span class="normal"><a href="#__codelineno-0-617">617</a></span>
<span class="normal"><a href="#__codelineno-0-618">618</a></span>
<span class="normal"><a href="#__codelineno-0-619">619</a></span>
<span class="normal"><a href="#__codelineno-0-620">620</a></span>
<span class="normal"><a href="#__codelineno-0-621">621</a></span>
<span class="normal"><a href="#__codelineno-0-622">622</a></span>
<span class="normal"><a href="#__codelineno-0-623">623</a></span>
<span class="normal"><a href="#__codelineno-0-624">624</a></span>
<span class="normal"><a href="#__codelineno-0-625">625</a></span>
<span class="normal"><a href="#__codelineno-0-626">626</a></span>
<span class="normal"><a href="#__codelineno-0-627">627</a></span>
<span class="normal"><a href="#__codelineno-0-628">628</a></span>
<span class="normal"><a href="#__codelineno-0-629">629</a></span>
<span class="normal"><a href="#__codelineno-0-630">630</a></span>
<span class="normal"><a href="#__codelineno-0-631">631</a></span>
<span class="normal"><a href="#__codelineno-0-632">632</a></span>
<span class="normal"><a href="#__codelineno-0-633">633</a></span>
<span class="normal"><a href="#__codelineno-0-634">634</a></span>
<span class="normal"><a href="#__codelineno-0-635">635</a></span>
<span class="normal"><a href="#__codelineno-0-636">636</a></span>
<span class="normal"><a href="#__codelineno-0-637">637</a></span>
<span class="normal"><a href="#__codelineno-0-638">638</a></span>
<span class="normal"><a href="#__codelineno-0-639">639</a></span>
<span class="normal"><a href="#__codelineno-0-640">640</a></span>
<span class="normal"><a href="#__codelineno-0-641">641</a></span>
<span class="normal"><a href="#__codelineno-0-642">642</a></span>
<span class="normal"><a href="#__codelineno-0-643">643</a></span>
<span class="normal"><a href="#__codelineno-0-644">644</a></span>
<span class="normal"><a href="#__codelineno-0-645">645</a></span>
<span class="normal"><a href="#__codelineno-0-646">646</a></span>
<span class="normal"><a href="#__codelineno-0-647">647</a></span>
<span class="normal"><a href="#__codelineno-0-648">648</a></span>
<span class="normal"><a href="#__codelineno-0-649">649</a></span>
<span class="normal"><a href="#__codelineno-0-650">650</a></span>
<span class="normal"><a href="#__codelineno-0-651">651</a></span>
<span class="normal"><a href="#__codelineno-0-652">652</a></span>
<span class="normal"><a href="#__codelineno-0-653">653</a></span>
<span class="normal"><a href="#__codelineno-0-654">654</a></span>
<span class="normal"><a href="#__codelineno-0-655">655</a></span>
<span class="normal"><a href="#__codelineno-0-656">656</a></span>
<span class="normal"><a href="#__codelineno-0-657">657</a></span>
<span class="normal"><a href="#__codelineno-0-658">658</a></span>
<span class="normal"><a href="#__codelineno-0-659">659</a></span>
<span class="normal"><a href="#__codelineno-0-660">660</a></span>
<span class="normal"><a href="#__codelineno-0-661">661</a></span>
<span class="normal"><a href="#__codelineno-0-662">662</a></span>
<span class="normal"><a href="#__codelineno-0-663">663</a></span>
<span class="normal"><a href="#__codelineno-0-664">664</a></span>
<span class="normal"><a href="#__codelineno-0-665">665</a></span>
<span class="normal"><a href="#__codelineno-0-666">666</a></span>
<span class="normal"><a href="#__codelineno-0-667">667</a></span>
<span class="normal"><a href="#__codelineno-0-668">668</a></span>
<span class="normal"><a href="#__codelineno-0-669">669</a></span>
<span class="normal"><a href="#__codelineno-0-670">670</a></span>
<span class="normal"><a href="#__codelineno-0-671">671</a></span>
<span class="normal"><a href="#__codelineno-0-672">672</a></span>
<span class="normal"><a href="#__codelineno-0-673">673</a></span>
<span class="normal"><a href="#__codelineno-0-674">674</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-35" name="__codelineno-0-35"></a><span class="k">class</span> <span class="nc">DatasetObject</span><span class="p">(</span><span class="n">USDObject</span><span class="p">):</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a><span class="sd">    DatasetObjects are instantiated from a USD file. It is an object that is assumed to come from an iG-supported</span>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a><span class="sd">    dataset. These objects should contain additional metadata, including aggregate statistics across the</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a><span class="sd">    object&#39;s category, e.g., avg dims, bounding boxes, masses, etc.</span>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a>        <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a>        <span class="n">name</span><span class="p">,</span>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a>        <span class="n">usd_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a>        <span class="n">prim_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a>        <span class="n">category</span><span class="o">=</span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a>        <span class="n">model</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a>        <span class="n">class_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a>        <span class="n">uuid</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a>        <span class="n">scale</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a>        <span class="n">visible</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a>        <span class="n">fixed_base</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a>        <span class="n">visual_only</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a>        <span class="n">self_collisions</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a>        <span class="n">prim_type</span><span class="o">=</span><span class="n">PrimType</span><span class="o">.</span><span class="n">RIGID</span><span class="p">,</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a>        <span class="n">load_config</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a>        <span class="n">abilities</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a>        <span class="n">include_default_states</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a>        <span class="n">bounding_box</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a>        <span class="n">fit_avg_dim_volume</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a>        <span class="n">in_rooms</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a>        <span class="n">bddl_object_scope</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a>    <span class="p">):</span>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a><span class="sd">            name (str): Name for the object. Names need to be unique per scene</span>
<a id="__codelineno-0-69" name="__codelineno-0-69"></a><span class="sd">            usd_path (None or str): If specified, global path to the USD file to load. Note that this will override</span>
<a id="__codelineno-0-70" name="__codelineno-0-70"></a><span class="sd">                @category + @model!</span>
<a id="__codelineno-0-71" name="__codelineno-0-71"></a><span class="sd">            prim_path (None or str): global path in the stage to this object. If not specified, will automatically be</span>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a><span class="sd">                created at /World/&lt;name&gt;</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a><span class="sd">            category (str): Category for the object. Defaults to &quot;object&quot;.</span>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a><span class="sd">            model (None or str): if @usd_path is not specified, then this must be specified in conjunction with</span>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a><span class="sd">                @category to infer the usd filepath to load for this object, which evaluates to the following:</span>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a><span class="sd">                    {og_dataset_path}/objects/{category}/{model}/usd/{model}.usd</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a><span class="sd">            class_id (None or int): What class ID the object should be assigned in semantic segmentation rendering mode.</span>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a><span class="sd">                If None, the ID will be inferred from this object&#39;s category.</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a><span class="sd">            uuid (None or int): Unique unsigned-integer identifier to assign to this object (max 8-numbers).</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a><span class="sd">                If None is specified, then it will be auto-generated</span>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a><span class="sd">            scale (None or float or 3-array): if specified, sets either the uniform (float) or x,y,z (3-array) scale</span>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a><span class="sd">                for this object. A single number corresponds to uniform scaling along the x,y,z axes, whereas a</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a><span class="sd">                3-array specifies per-axis scaling.</span>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a><span class="sd">            visible (bool): whether to render this object or not in the stage</span>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a><span class="sd">            fixed_base (bool): whether to fix the base of this object or not</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a><span class="sd">            visual_only (bool): Whether this object should be visual only (and not collide with any other objects)</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a><span class="sd">            self_collisions (bool): Whether to enable self collisions for this object</span>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a><span class="sd">            prim_type (PrimType): Which type of prim the object is, Valid options are: {PrimType.RIGID, PrimType.CLOTH}</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a><span class="sd">            load_config (None or dict): If specified, should contain keyword-mapped values that are relevant for</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a><span class="sd">                loading this prim at runtime.</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a><span class="sd">            abilities (None or dict): If specified, manually adds specific object states to this object. It should be</span>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a><span class="sd">                a dict in the form of {ability: {param: value}} containing object abilities and parameters to pass to</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a><span class="sd">                the object state instance constructor.</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a><span class="sd">            include_default_states (bool): whether to include the default object states from @get_default_states</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a><span class="sd">            bounding_box (None or 3-array): If specified, will scale this object such that it fits in the desired</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a><span class="sd">                (x,y,z) object-aligned bounding box. Note that EITHER @bounding_box or @scale may be specified</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a><span class="sd">                -- not both!</span>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a><span class="sd">            fit_avg_dim_volume (bool): whether to fit the object to have the same volume as the average dimension</span>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a><span class="sd">                while keeping the aspect ratio. Note that if this is set, it will override both @scale and @bounding_box</span>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a><span class="sd">            in_rooms (None or list): If specified, sets the rooms that this object should belong to</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a><span class="sd">            bddl_object_scope (None or str): If specified, should set the BDDL object scope name, e.g. chip.n.04_2</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a><span class="sd">            kwargs (dict): Additional keyword arguments that are used for other super() calls from subclasses, allowing</span>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a><span class="sd">                for flexible compositions of various object subclasses (e.g.: Robot is USDObject + ControllableObject).</span>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a>        <span class="c1"># Store variables</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_in_rooms</span> <span class="o">=</span> <span class="n">in_rooms</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_bddl_object_scope</span> <span class="o">=</span> <span class="n">bddl_object_scope</span>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a>        <span class="c1"># Info that will be filled in at runtime</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">supporting_surfaces</span> <span class="o">=</span> <span class="kc">None</span>             <span class="c1"># Dictionary mapping link names to surfaces represented by links</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a>        <span class="c1"># Make sure only one of bounding_box and scale are specified</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a>        <span class="k">if</span> <span class="n">bounding_box</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">scale</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a>            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;You cannot define both scale and bounding box size for an DatasetObject&quot;</span><span class="p">)</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a>        <span class="c1"># Add info to load config</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a>        <span class="n">load_config</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span> <span class="k">if</span> <span class="n">load_config</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">load_config</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a>        <span class="n">load_config</span><span class="p">[</span><span class="s2">&quot;bounding_box&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bounding_box</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a>        <span class="n">load_config</span><span class="p">[</span><span class="s2">&quot;fit_avg_dim_volume&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fit_avg_dim_volume</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a>        <span class="c1"># Infer the correct usd path to use</span>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a>        <span class="k">if</span> <span class="n">usd_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a>            <span class="k">assert</span> <span class="n">model</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Either usd_path or model and category must be specified in order to create a&quot;</span> \
<a id="__codelineno-0-126" name="__codelineno-0-126"></a>                                      <span class="sa">f</span><span class="s2">&quot;DatasetObject!&quot;</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a>            <span class="n">usd_path</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">gm</span><span class="o">.</span><span class="n">DATASET_PATH</span><span class="si">}</span><span class="s2">/objects/</span><span class="si">{</span><span class="n">category</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">model</span><span class="si">}</span><span class="s2">/usd/</span><span class="si">{</span><span class="n">model</span><span class="si">}</span><span class="s2">.usd&quot;</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a>        <span class="c1"># Post-process the usd path if we&#39;re generating a cloth object</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a>        <span class="k">if</span> <span class="n">prim_type</span> <span class="o">==</span> <span class="n">PrimType</span><span class="o">.</span><span class="n">CLOTH</span><span class="p">:</span>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a>            <span class="k">assert</span> <span class="n">usd_path</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.usd&quot;</span><span class="p">),</span> <span class="sa">f</span><span class="s2">&quot;usd_path [</span><span class="si">{</span><span class="n">usd_path</span><span class="si">}</span><span class="s2">] is invalid.&quot;</span>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a>            <span class="n">usd_path</span> <span class="o">=</span> <span class="n">usd_path</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;_cloth.usd&quot;</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a>        <span class="c1"># Run super init</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a>            <span class="n">prim_path</span><span class="o">=</span><span class="n">prim_path</span><span class="p">,</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a>            <span class="n">usd_path</span><span class="o">=</span><span class="n">usd_path</span><span class="p">,</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a>            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a>            <span class="n">category</span><span class="o">=</span><span class="n">category</span><span class="p">,</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a>            <span class="n">class_id</span><span class="o">=</span><span class="n">class_id</span><span class="p">,</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a>            <span class="n">uuid</span><span class="o">=</span><span class="n">uuid</span><span class="p">,</span>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a>            <span class="n">scale</span><span class="o">=</span><span class="n">scale</span><span class="p">,</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a>            <span class="n">visible</span><span class="o">=</span><span class="n">visible</span><span class="p">,</span>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a>            <span class="n">fixed_base</span><span class="o">=</span><span class="n">fixed_base</span><span class="p">,</span>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a>            <span class="n">visual_only</span><span class="o">=</span><span class="n">visual_only</span><span class="p">,</span>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a>            <span class="n">self_collisions</span><span class="o">=</span><span class="n">self_collisions</span><span class="p">,</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a>            <span class="n">prim_type</span><span class="o">=</span><span class="n">prim_type</span><span class="p">,</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a>            <span class="n">include_default_states</span><span class="o">=</span><span class="n">include_default_states</span><span class="p">,</span>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a>            <span class="n">load_config</span><span class="o">=</span><span class="n">load_config</span><span class="p">,</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a>            <span class="n">abilities</span><span class="o">=</span><span class="n">abilities</span><span class="p">,</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a>            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a>        <span class="p">)</span>
<a id="__codelineno-0-153" name="__codelineno-0-153"></a>
<a id="__codelineno-0-154" name="__codelineno-0-154"></a>    <span class="k">def</span> <span class="nf">load_supporting_surfaces</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-155" name="__codelineno-0-155"></a>        <span class="c1"># Initialize dict of supporting surface info</span>
<a id="__codelineno-0-156" name="__codelineno-0-156"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">supporting_surfaces</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-157" name="__codelineno-0-157"></a>
<a id="__codelineno-0-158" name="__codelineno-0-158"></a>        <span class="c1"># See if we have any height info -- if not, we can immediately return</span>
<a id="__codelineno-0-159" name="__codelineno-0-159"></a>        <span class="n">heights_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">heights_per_link</span>
<a id="__codelineno-0-160" name="__codelineno-0-160"></a>        <span class="k">if</span> <span class="n">heights_info</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-161" name="__codelineno-0-161"></a>            <span class="k">return</span>
<a id="__codelineno-0-162" name="__codelineno-0-162"></a>
<a id="__codelineno-0-163" name="__codelineno-0-163"></a>        <span class="c1"># TODO: Integrate images directly into usd file?</span>
<a id="__codelineno-0-164" name="__codelineno-0-164"></a>        <span class="c1"># We loop over all the predicates and corresponding supported links in our heights info</span>
<a id="__codelineno-0-165" name="__codelineno-0-165"></a>        <span class="n">usd_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_usd_path</span><span class="p">)</span>
<a id="__codelineno-0-166" name="__codelineno-0-166"></a>        <span class="k">for</span> <span class="n">predicate</span><span class="p">,</span> <span class="n">links</span> <span class="ow">in</span> <span class="n">heights_info</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-167" name="__codelineno-0-167"></a>            <span class="n">height_maps</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-168" name="__codelineno-0-168"></a>            <span class="k">for</span> <span class="n">link_name</span><span class="p">,</span> <span class="n">heights</span> <span class="ow">in</span> <span class="n">links</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-169" name="__codelineno-0-169"></a>                <span class="n">height_maps</span><span class="p">[</span><span class="n">link_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-170" name="__codelineno-0-170"></a>                <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">z_value</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">heights</span><span class="p">):</span>
<a id="__codelineno-0-171" name="__codelineno-0-171"></a>                    <span class="c1"># Get boolean birds-eye view xy-mask image for this surface</span>
<a id="__codelineno-0-172" name="__codelineno-0-172"></a>                    <span class="n">img_fname</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">usd_dir</span><span class="p">,</span> <span class="s2">&quot;../misc&quot;</span><span class="p">,</span> <span class="s2">&quot;height_maps_per_link&quot;</span><span class="p">,</span> <span class="n">predicate</span><span class="p">,</span> <span class="n">link_name</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">.png&quot;</span><span class="p">)</span>
<a id="__codelineno-0-173" name="__codelineno-0-173"></a>                    <span class="n">xy_map</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">img_fname</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-174" name="__codelineno-0-174"></a>                    <span class="c1"># Add this map to the supporting surfaces for this link and predicate combination</span>
<a id="__codelineno-0-175" name="__codelineno-0-175"></a>                    <span class="n">height_maps</span><span class="p">[</span><span class="n">link_name</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">z_value</span><span class="p">,</span> <span class="n">xy_map</span><span class="p">))</span>
<a id="__codelineno-0-176" name="__codelineno-0-176"></a>            <span class="c1"># Add this heights map to the overall supporting surfaces</span>
<a id="__codelineno-0-177" name="__codelineno-0-177"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">supporting_surfaces</span><span class="p">[</span><span class="n">predicate</span><span class="p">]</span> <span class="o">=</span> <span class="n">height_maps</span>
<a id="__codelineno-0-178" name="__codelineno-0-178"></a>
<a id="__codelineno-0-179" name="__codelineno-0-179"></a>    <span class="k">def</span> <span class="nf">sample_orientation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a><span class="sd">        Samples an orientation in quaternion (x,y,z,w) form</span>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a><span class="sd">            4-array: (x,y,z,w) sampled quaternion orientation for this object, based on self.orientations</span>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">orientations</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No orientation probabilities set&quot;</span><span class="p">)</span>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">orientations</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a>            <span class="c1"># Set default value</span>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a>            <span class="n">chosen_orientation</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">])</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a>            <span class="n">probabilities</span> <span class="o">=</span> <span class="p">[</span><span class="n">o</span><span class="p">[</span><span class="s2">&quot;prob&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">orientations</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a>            <span class="n">probabilities</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">probabilities</span><span class="p">)</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">probabilities</span><span class="p">)</span>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a>            <span class="n">chosen_orientation</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">orientations</span><span class="o">.</span><span class="n">values</span><span class="p">()),</span> <span class="n">p</span><span class="o">=</span><span class="n">probabilities</span><span class="p">)[</span><span class="s2">&quot;rotation&quot;</span><span class="p">])</span>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a>        <span class="c1"># Randomize yaw from -pi to pi</span>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a>        <span class="n">rot_num</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a>        <span class="n">rot_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a>            <span class="p">[</span>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a>                <span class="p">[</span><span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">rot_num</span><span class="p">),</span> <span class="o">-</span><span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">rot_num</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">],</span>
<a id="__codelineno-0-201" name="__codelineno-0-201"></a>                <span class="p">[</span><span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">rot_num</span><span class="p">),</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">rot_num</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">],</span>
<a id="__codelineno-0-202" name="__codelineno-0-202"></a>                <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>
<a id="__codelineno-0-203" name="__codelineno-0-203"></a>            <span class="p">]</span>
<a id="__codelineno-0-204" name="__codelineno-0-204"></a>        <span class="p">)</span>
<a id="__codelineno-0-205" name="__codelineno-0-205"></a>        <span class="n">rotated_quat</span> <span class="o">=</span> <span class="n">T</span><span class="o">.</span><span class="n">mat2quat</span><span class="p">(</span><span class="n">rot_matrix</span> <span class="o">@</span> <span class="n">T</span><span class="o">.</span><span class="n">quat2mat</span><span class="p">(</span><span class="n">chosen_orientation</span><span class="p">))</span>
<a id="__codelineno-0-206" name="__codelineno-0-206"></a>        <span class="k">return</span> <span class="n">rotated_quat</span>
<a id="__codelineno-0-207" name="__codelineno-0-207"></a>
<a id="__codelineno-0-208" name="__codelineno-0-208"></a>    <span class="k">def</span> <span class="nf">_initialize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-209" name="__codelineno-0-209"></a>        <span class="c1"># Run super method first</span>
<a id="__codelineno-0-210" name="__codelineno-0-210"></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_initialize</span><span class="p">()</span>
<a id="__codelineno-0-211" name="__codelineno-0-211"></a>
<a id="__codelineno-0-212" name="__codelineno-0-212"></a>        <span class="c1"># Apply any forced light intensity updates.</span>
<a id="__codelineno-0-213" name="__codelineno-0-213"></a>        <span class="k">if</span> <span class="n">gm</span><span class="o">.</span><span class="n">FORCE_LIGHT_INTENSITY</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-214" name="__codelineno-0-214"></a>            <span class="k">def</span> <span class="nf">recursive_light_update</span><span class="p">(</span><span class="n">child_prim</span><span class="p">):</span>
<a id="__codelineno-0-215" name="__codelineno-0-215"></a>                <span class="k">if</span> <span class="s2">&quot;Light&quot;</span> <span class="ow">in</span> <span class="n">child_prim</span><span class="o">.</span><span class="n">GetPrimTypeInfo</span><span class="p">()</span><span class="o">.</span><span class="n">GetTypeName</span><span class="p">():</span>
<a id="__codelineno-0-216" name="__codelineno-0-216"></a>                    <span class="n">child_prim</span><span class="o">.</span><span class="n">GetAttribute</span><span class="p">(</span><span class="s2">&quot;intensity&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="n">gm</span><span class="o">.</span><span class="n">FORCE_LIGHT_INTENSITY</span><span class="p">)</span>
<a id="__codelineno-0-217" name="__codelineno-0-217"></a>
<a id="__codelineno-0-218" name="__codelineno-0-218"></a>                <span class="k">for</span> <span class="n">child_child_prim</span> <span class="ow">in</span> <span class="n">child_prim</span><span class="o">.</span><span class="n">GetChildren</span><span class="p">():</span>
<a id="__codelineno-0-219" name="__codelineno-0-219"></a>                    <span class="n">recursive_light_update</span><span class="p">(</span><span class="n">child_child_prim</span><span class="p">)</span>
<a id="__codelineno-0-220" name="__codelineno-0-220"></a>
<a id="__codelineno-0-221" name="__codelineno-0-221"></a>            <span class="n">recursive_light_update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_prim</span><span class="p">)</span>
<a id="__codelineno-0-222" name="__codelineno-0-222"></a>
<a id="__codelineno-0-223" name="__codelineno-0-223"></a>        <span class="c1"># Apply any forced roughness updates</span>
<a id="__codelineno-0-224" name="__codelineno-0-224"></a>        <span class="k">for</span> <span class="n">material</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="p">:</span>
<a id="__codelineno-0-225" name="__codelineno-0-225"></a>            <span class="n">material</span><span class="o">.</span><span class="n">reflection_roughness_texture_influence</span> <span class="o">=</span> <span class="mf">0.0</span>
<a id="__codelineno-0-226" name="__codelineno-0-226"></a>            <span class="n">material</span><span class="o">.</span><span class="n">reflection_roughness_constant</span> <span class="o">=</span> <span class="n">gm</span><span class="o">.</span><span class="n">FORCE_ROUGHNESS</span>
<a id="__codelineno-0-227" name="__codelineno-0-227"></a>
<a id="__codelineno-0-228" name="__codelineno-0-228"></a>        <span class="c1"># Set the joint frictions based on category</span>
<a id="__codelineno-0-229" name="__codelineno-0-229"></a>        <span class="n">friction</span> <span class="o">=</span> <span class="n">SPECIAL_JOINT_FRICTIONS</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">category</span><span class="p">,</span> <span class="n">DEFAULT_JOINT_FRICTION</span><span class="p">)</span>
<a id="__codelineno-0-230" name="__codelineno-0-230"></a>        <span class="k">for</span> <span class="n">joint</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_joints</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
<a id="__codelineno-0-231" name="__codelineno-0-231"></a>            <span class="k">if</span> <span class="n">joint</span><span class="o">.</span><span class="n">joint_type</span> <span class="o">!=</span> <span class="n">JointType</span><span class="o">.</span><span class="n">JOINT_FIXED</span><span class="p">:</span>
<a id="__codelineno-0-232" name="__codelineno-0-232"></a>                <span class="n">joint</span><span class="o">.</span><span class="n">friction</span> <span class="o">=</span> <span class="n">friction</span>
<a id="__codelineno-0-233" name="__codelineno-0-233"></a>
<a id="__codelineno-0-234" name="__codelineno-0-234"></a>    <span class="k">def</span> <span class="nf">_load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-235" name="__codelineno-0-235"></a>        <span class="k">if</span> <span class="n">gm</span><span class="o">.</span><span class="n">USE_ENCRYPTED_ASSETS</span><span class="p">:</span>
<a id="__codelineno-0-236" name="__codelineno-0-236"></a>            <span class="c1"># Create a temporary file to store the decrytped asset, load it, and then delete it.</span>
<a id="__codelineno-0-237" name="__codelineno-0-237"></a>            <span class="n">original_usd_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_usd_path</span>
<a id="__codelineno-0-238" name="__codelineno-0-238"></a>            <span class="n">encrypted_filename</span> <span class="o">=</span> <span class="n">original_usd_path</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.usd&quot;</span><span class="p">,</span> <span class="s2">&quot;.encrypted.usd&quot;</span><span class="p">)</span>
<a id="__codelineno-0-239" name="__codelineno-0-239"></a>            <span class="n">decrypted_fd</span><span class="p">,</span> <span class="n">decrypted_filename</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkstemp</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">original_usd_path</span><span class="p">),</span> <span class="nb">dir</span><span class="o">=</span><span class="n">og</span><span class="o">.</span><span class="n">tempdir</span><span class="p">)</span>
<a id="__codelineno-0-240" name="__codelineno-0-240"></a>            <span class="n">decrypt_file</span><span class="p">(</span><span class="n">encrypted_filename</span><span class="p">,</span> <span class="n">decrypted_filename</span><span class="p">)</span>
<a id="__codelineno-0-241" name="__codelineno-0-241"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_usd_path</span> <span class="o">=</span> <span class="n">decrypted_filename</span>
<a id="__codelineno-0-242" name="__codelineno-0-242"></a>            <span class="n">prim</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_load</span><span class="p">()</span>
<a id="__codelineno-0-243" name="__codelineno-0-243"></a>            <span class="n">os</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="n">decrypted_fd</span><span class="p">)</span>
<a id="__codelineno-0-244" name="__codelineno-0-244"></a>            <span class="c1"># On Windows, Isaac Sim won&#39;t let go of the file until the prim is removed, so we can&#39;t delete it.</span>
<a id="__codelineno-0-245" name="__codelineno-0-245"></a>            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;posix&quot;</span><span class="p">:</span>
<a id="__codelineno-0-246" name="__codelineno-0-246"></a>                <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">decrypted_filename</span><span class="p">)</span>
<a id="__codelineno-0-247" name="__codelineno-0-247"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_usd_path</span> <span class="o">=</span> <span class="n">original_usd_path</span>
<a id="__codelineno-0-248" name="__codelineno-0-248"></a>            <span class="k">return</span> <span class="n">prim</span>
<a id="__codelineno-0-249" name="__codelineno-0-249"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-250" name="__codelineno-0-250"></a>            <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_load</span><span class="p">()</span>
<a id="__codelineno-0-251" name="__codelineno-0-251"></a>
<a id="__codelineno-0-252" name="__codelineno-0-252"></a>    <span class="k">def</span> <span class="nf">_post_load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-253" name="__codelineno-0-253"></a>        <span class="c1"># We run this post loading first before any others because we&#39;re modifying the load config that will be used</span>
<a id="__codelineno-0-254" name="__codelineno-0-254"></a>        <span class="c1"># downstream</span>
<a id="__codelineno-0-255" name="__codelineno-0-255"></a>        <span class="c1"># Set the scale of this prim according to its bounding box</span>
<a id="__codelineno-0-256" name="__codelineno-0-256"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_config</span><span class="p">[</span><span class="s2">&quot;fit_avg_dim_volume&quot;</span><span class="p">]:</span>
<a id="__codelineno-0-257" name="__codelineno-0-257"></a>            <span class="c1"># By default, we assume scale does not change if no avg obj specs are given, otherwise, scale accordingly</span>
<a id="__codelineno-0-258" name="__codelineno-0-258"></a>            <span class="n">scale</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<a id="__codelineno-0-259" name="__codelineno-0-259"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">avg_obj_dims</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">avg_obj_dims</span><span class="p">[</span><span class="s2">&quot;size&quot;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-260" name="__codelineno-0-260"></a>                <span class="c1"># Find the average volume, and scale accordingly relative to the native volume based on the bbox</span>
<a id="__codelineno-0-261" name="__codelineno-0-261"></a>                <span class="n">volume_ratio</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">avg_obj_dims</span><span class="p">[</span><span class="s2">&quot;size&quot;</span><span class="p">])</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">native_bbox</span><span class="p">)</span>
<a id="__codelineno-0-262" name="__codelineno-0-262"></a>                <span class="n">size_ratio</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cbrt</span><span class="p">(</span><span class="n">volume_ratio</span><span class="p">)</span>
<a id="__codelineno-0-263" name="__codelineno-0-263"></a>                <span class="n">scale</span> <span class="o">*=</span> <span class="n">size_ratio</span>
<a id="__codelineno-0-264" name="__codelineno-0-264"></a>        <span class="c1"># Otherwise, if manual bounding box is specified, scale based on ratio between that and the native bbox</span>
<a id="__codelineno-0-265" name="__codelineno-0-265"></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_config</span><span class="p">[</span><span class="s2">&quot;bounding_box&quot;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-266" name="__codelineno-0-266"></a>            <span class="n">scale</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_config</span><span class="p">[</span><span class="s2">&quot;bounding_box&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">native_bbox</span>
<a id="__codelineno-0-267" name="__codelineno-0-267"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-268" name="__codelineno-0-268"></a>            <span class="n">scale</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_config</span><span class="p">[</span><span class="s2">&quot;scale&quot;</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_config</span><span class="p">[</span><span class="s2">&quot;scale&quot;</span><span class="p">]</span>
<a id="__codelineno-0-269" name="__codelineno-0-269"></a>
<a id="__codelineno-0-270" name="__codelineno-0-270"></a>        <span class="c1"># Set this scale in the load config -- it will automatically scale the object during self.initialize()</span>
<a id="__codelineno-0-271" name="__codelineno-0-271"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_load_config</span><span class="p">[</span><span class="s2">&quot;scale&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">scale</span>
<a id="__codelineno-0-272" name="__codelineno-0-272"></a>
<a id="__codelineno-0-273" name="__codelineno-0-273"></a>        <span class="c1"># Load any supporting surfaces belonging to this object</span>
<a id="__codelineno-0-274" name="__codelineno-0-274"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">load_supporting_surfaces</span><span class="p">()</span>
<a id="__codelineno-0-275" name="__codelineno-0-275"></a>
<a id="__codelineno-0-276" name="__codelineno-0-276"></a>        <span class="c1"># Run super last</span>
<a id="__codelineno-0-277" name="__codelineno-0-277"></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">_post_load</span><span class="p">()</span>
<a id="__codelineno-0-278" name="__codelineno-0-278"></a>
<a id="__codelineno-0-279" name="__codelineno-0-279"></a>        <span class="k">if</span> <span class="n">gm</span><span class="o">.</span><span class="n">USE_ENCRYPTED_ASSETS</span><span class="p">:</span>
<a id="__codelineno-0-280" name="__codelineno-0-280"></a>            <span class="c1"># The loaded USD is from an already-deleted temporary file, so the asset paths for texture maps are wrong.</span>
<a id="__codelineno-0-281" name="__codelineno-0-281"></a>            <span class="c1"># We explicitly provide the root_path to update all the asset paths: the asset paths are relative to the</span>
<a id="__codelineno-0-282" name="__codelineno-0-282"></a>            <span class="c1"># original USD folder, i.e. &lt;category&gt;/&lt;model&gt;/usd.</span>
<a id="__codelineno-0-283" name="__codelineno-0-283"></a>            <span class="n">root_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_usd_path</span><span class="p">)</span>
<a id="__codelineno-0-284" name="__codelineno-0-284"></a>            <span class="k">for</span> <span class="n">material</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="p">:</span>
<a id="__codelineno-0-285" name="__codelineno-0-285"></a>                <span class="n">material</span><span class="o">.</span><span class="n">shader_update_asset_paths_with_root_path</span><span class="p">(</span><span class="n">root_path</span><span class="p">)</span>
<a id="__codelineno-0-286" name="__codelineno-0-286"></a>
<a id="__codelineno-0-287" name="__codelineno-0-287"></a>        <span class="c1"># Assign realistic density and mass based on average object category spec</span>
<a id="__codelineno-0-288" name="__codelineno-0-288"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">avg_obj_dims</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">avg_obj_dims</span><span class="p">[</span><span class="s2">&quot;size&quot;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">avg_obj_dims</span><span class="p">[</span><span class="s2">&quot;mass&quot;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-289" name="__codelineno-0-289"></a>            <span class="c1"># Assume each link has the same density</span>
<a id="__codelineno-0-290" name="__codelineno-0-290"></a>            <span class="n">v_ratio</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">native_bbox</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">))</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">avg_obj_dims</span><span class="p">[</span><span class="s2">&quot;size&quot;</span><span class="p">])</span>
<a id="__codelineno-0-291" name="__codelineno-0-291"></a>            <span class="n">mass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">avg_obj_dims</span><span class="p">[</span><span class="s2">&quot;mass&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">v_ratio</span>
<a id="__codelineno-0-292" name="__codelineno-0-292"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prim_type</span> <span class="o">==</span> <span class="n">PrimType</span><span class="o">.</span><span class="n">RIGID</span><span class="p">:</span>
<a id="__codelineno-0-293" name="__codelineno-0-293"></a>                <span class="n">density</span> <span class="o">=</span> <span class="n">mass</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">volume</span>
<a id="__codelineno-0-294" name="__codelineno-0-294"></a>                <span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_links</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
<a id="__codelineno-0-295" name="__codelineno-0-295"></a>                    <span class="c1"># If not a meta (virtual) link, set the density based on avg_obj_dims and a zero mass (ignored)</span>
<a id="__codelineno-0-296" name="__codelineno-0-296"></a>                    <span class="k">if</span> <span class="n">link</span><span class="o">.</span><span class="n">has_collision_meshes</span><span class="p">:</span>
<a id="__codelineno-0-297" name="__codelineno-0-297"></a>                        <span class="n">link</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="mf">0.0</span>
<a id="__codelineno-0-298" name="__codelineno-0-298"></a>                        <span class="n">link</span><span class="o">.</span><span class="n">density</span> <span class="o">=</span> <span class="n">density</span>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a>
<a id="__codelineno-0-300" name="__codelineno-0-300"></a>            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prim_type</span> <span class="o">==</span> <span class="n">PrimType</span><span class="o">.</span><span class="n">CLOTH</span><span class="p">:</span>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a>                <span class="c1"># Cloth cannot set density. Internally omni evenly distributes the mass to each particle</span>
<a id="__codelineno-0-302" name="__codelineno-0-302"></a>                <span class="n">mass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">avg_obj_dims</span><span class="p">[</span><span class="s2">&quot;mass&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">v_ratio</span>
<a id="__codelineno-0-303" name="__codelineno-0-303"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_links</span><span class="p">[</span><span class="s2">&quot;base_link&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="n">mass</span>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a>    <span class="k">def</span> <span class="nf">_update_texture_change</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_state</span><span class="p">):</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-307" name="__codelineno-0-307"></a><span class="sd">        Update the texture based on the given object_state. E.g. if object_state is Frozen, update the diffuse color</span>
<a id="__codelineno-0-308" name="__codelineno-0-308"></a><span class="sd">        to match the frozen state. If object_state is None, update the diffuse color to the default value. It attempts</span>
<a id="__codelineno-0-309" name="__codelineno-0-309"></a><span class="sd">        to load the cached texture map named DIFFUSE/albedo_[STATE_NAME].png. If the cached texture map does not exist,</span>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a><span class="sd">        it modifies the current albedo map by adding and scaling the values. See @self._update_albedo_value for details.</span>
<a id="__codelineno-0-311" name="__codelineno-0-311"></a>
<a id="__codelineno-0-312" name="__codelineno-0-312"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-313" name="__codelineno-0-313"></a><span class="sd">            object_state (BooleanState or None): the object state that the diffuse color should match to</span>
<a id="__codelineno-0-314" name="__codelineno-0-314"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-315" name="__codelineno-0-315"></a>        <span class="c1"># TODO: uncomment these once our dataset has the object state-conditioned texture maps</span>
<a id="__codelineno-0-316" name="__codelineno-0-316"></a>        <span class="c1"># DEFAULT_ALBEDO_MAP_SUFFIX = frozenset({&quot;DIFFUSE&quot;, &quot;COMBINED&quot;, &quot;albedo&quot;})</span>
<a id="__codelineno-0-317" name="__codelineno-0-317"></a>        <span class="c1"># state_name = object_state.__class__.__name__ if object_state is not None else None</span>
<a id="__codelineno-0-318" name="__codelineno-0-318"></a>        <span class="k">for</span> <span class="n">material</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="p">:</span>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a>            <span class="c1"># texture_path = material.diffuse_texture</span>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a>            <span class="c1"># assert texture_path is not None, f&quot;DatasetObject [{self.prim_path}] has invalid diffuse texture map.&quot;</span>
<a id="__codelineno-0-321" name="__codelineno-0-321"></a>            <span class="c1">#</span>
<a id="__codelineno-0-322" name="__codelineno-0-322"></a>            <span class="c1"># # Get updated texture file path for state.</span>
<a id="__codelineno-0-323" name="__codelineno-0-323"></a>            <span class="c1"># texture_path_split = texture_path.split(&quot;/&quot;)</span>
<a id="__codelineno-0-324" name="__codelineno-0-324"></a>            <span class="c1"># filedir, filename = &quot;/&quot;.join(texture_path_split[:-1]), texture_path_split[-1]</span>
<a id="__codelineno-0-325" name="__codelineno-0-325"></a>            <span class="c1"># assert filename[-4:] == &quot;.png&quot;, f&quot;Texture file {filename} does not end with .png&quot;</span>
<a id="__codelineno-0-326" name="__codelineno-0-326"></a>            <span class="c1">#</span>
<a id="__codelineno-0-327" name="__codelineno-0-327"></a>            <span class="c1"># filename_split = filename[:-4].split(&quot;_&quot;)</span>
<a id="__codelineno-0-328" name="__codelineno-0-328"></a>            <span class="c1"># # Check all three file names for backward compatibility.</span>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a>            <span class="c1"># if len(filename_split) &gt; 0 and filename_split[-1] not in DEFAULT_ALBEDO_MAP_SUFFIX:</span>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a>            <span class="c1">#     filename_split.pop()</span>
<a id="__codelineno-0-331" name="__codelineno-0-331"></a>            <span class="c1"># target_texture_path = f&quot;{filedir}/{&#39;_&#39;.join(filename_split)}&quot;</span>
<a id="__codelineno-0-332" name="__codelineno-0-332"></a>            <span class="c1"># target_texture_path += f&quot;_{state_name}.png&quot; if state_name is not None else &quot;.png&quot;</span>
<a id="__codelineno-0-333" name="__codelineno-0-333"></a>            <span class="c1">#</span>
<a id="__codelineno-0-334" name="__codelineno-0-334"></a>            <span class="c1"># if os.path.exists(target_texture_path):</span>
<a id="__codelineno-0-335" name="__codelineno-0-335"></a>            <span class="c1">#     # Since we are loading a pre-cached texture map, we need to reset the albedo value to the default</span>
<a id="__codelineno-0-336" name="__codelineno-0-336"></a>            <span class="c1">#     self._update_albedo_value(None, material)</span>
<a id="__codelineno-0-337" name="__codelineno-0-337"></a>            <span class="c1">#     if material.diffuse_texture != target_texture_path:</span>
<a id="__codelineno-0-338" name="__codelineno-0-338"></a>            <span class="c1">#         material.diffuse_texture = target_texture_path</span>
<a id="__codelineno-0-339" name="__codelineno-0-339"></a>            <span class="c1"># else:</span>
<a id="__codelineno-0-340" name="__codelineno-0-340"></a>            <span class="c1">#     print(f&quot;Warning: DatasetObject [{self.prim_path}] does not have texture map: &quot;</span>
<a id="__codelineno-0-341" name="__codelineno-0-341"></a>            <span class="c1">#           f&quot;[{target_texture_path}]. Falling back to directly updating albedo value.&quot;)</span>
<a id="__codelineno-0-342" name="__codelineno-0-342"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_update_albedo_value</span><span class="p">(</span><span class="n">object_state</span><span class="p">,</span> <span class="n">material</span><span class="p">)</span>
<a id="__codelineno-0-343" name="__codelineno-0-343"></a>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a>    <span class="k">def</span> <span class="nf">set_bbox_center_position_orientation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<a id="__codelineno-0-345" name="__codelineno-0-345"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-346" name="__codelineno-0-346"></a><span class="sd">        Sets the center of the object&#39;s bounding box with respect to the world&#39;s frame.</span>
<a id="__codelineno-0-347" name="__codelineno-0-347"></a>
<a id="__codelineno-0-348" name="__codelineno-0-348"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-349" name="__codelineno-0-349"></a><span class="sd">            position (None or 3-array): The desired global (x,y,z) position. None means it will not be changed</span>
<a id="__codelineno-0-350" name="__codelineno-0-350"></a><span class="sd">            orientation (None or 4-array): The desired global (x,y,z,w) quaternion orientation.</span>
<a id="__codelineno-0-351" name="__codelineno-0-351"></a><span class="sd">                None means it will not be changed</span>
<a id="__codelineno-0-352" name="__codelineno-0-352"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-353" name="__codelineno-0-353"></a>        <span class="k">if</span> <span class="n">orientation</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-354" name="__codelineno-0-354"></a>            <span class="n">orientation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_orientation</span><span class="p">()</span>
<a id="__codelineno-0-355" name="__codelineno-0-355"></a>        <span class="k">if</span> <span class="n">position</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-356" name="__codelineno-0-356"></a>            <span class="n">rotated_offset</span> <span class="o">=</span> <span class="n">T</span><span class="o">.</span><span class="n">pose_transform</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">orientation</span><span class="p">,</span>
<a id="__codelineno-0-357" name="__codelineno-0-357"></a>                                              <span class="bp">self</span><span class="o">.</span><span class="n">scaled_bbox_center_in_base_frame</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-358" name="__codelineno-0-358"></a>            <span class="n">position</span> <span class="o">=</span> <span class="n">position</span> <span class="o">+</span> <span class="n">rotated_offset</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_position_orientation</span><span class="p">(</span><span class="n">position</span><span class="p">,</span> <span class="n">orientation</span><span class="p">)</span>
<a id="__codelineno-0-360" name="__codelineno-0-360"></a>
<a id="__codelineno-0-361" name="__codelineno-0-361"></a>    <span class="nd">@property</span>
<a id="__codelineno-0-362" name="__codelineno-0-362"></a>    <span class="k">def</span> <span class="nf">in_rooms</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-363" name="__codelineno-0-363"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-364" name="__codelineno-0-364"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a><span class="sd">            None or list of str: If specified, room(s) that this object should belong to</span>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-367" name="__codelineno-0-367"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_in_rooms</span>
<a id="__codelineno-0-368" name="__codelineno-0-368"></a>
<a id="__codelineno-0-369" name="__codelineno-0-369"></a>    <span class="nd">@in_rooms</span><span class="o">.</span><span class="n">setter</span>
<a id="__codelineno-0-370" name="__codelineno-0-370"></a>    <span class="k">def</span> <span class="nf">in_rooms</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rooms</span><span class="p">):</span>
<a id="__codelineno-0-371" name="__codelineno-0-371"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-372" name="__codelineno-0-372"></a><span class="sd">        Sets which room(s) this object should belong to. If no rooms, then should set to None</span>
<a id="__codelineno-0-373" name="__codelineno-0-373"></a>
<a id="__codelineno-0-374" name="__codelineno-0-374"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-375" name="__codelineno-0-375"></a><span class="sd">            rooms (None or list of str): If specified, the room(s) this object should belong to</span>
<a id="__codelineno-0-376" name="__codelineno-0-376"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-377" name="__codelineno-0-377"></a>        <span class="c1"># Store the value to the internal variable and also update the init kwargs accordingly</span>
<a id="__codelineno-0-378" name="__codelineno-0-378"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_init_info</span><span class="p">[</span><span class="s2">&quot;args&quot;</span><span class="p">][</span><span class="s2">&quot;in_rooms&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">rooms</span>
<a id="__codelineno-0-379" name="__codelineno-0-379"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_in_rooms</span> <span class="o">=</span> <span class="n">rooms</span>
<a id="__codelineno-0-380" name="__codelineno-0-380"></a>
<a id="__codelineno-0-381" name="__codelineno-0-381"></a>    <span class="nd">@property</span>
<a id="__codelineno-0-382" name="__codelineno-0-382"></a>    <span class="k">def</span> <span class="nf">bddl_object_scope</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-383" name="__codelineno-0-383"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-384" name="__codelineno-0-384"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-385" name="__codelineno-0-385"></a><span class="sd">            None or str: If specified, BDDL object scope name (e.g. chip.n.04_2) to assign to this object</span>
<a id="__codelineno-0-386" name="__codelineno-0-386"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-387" name="__codelineno-0-387"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bddl_object_scope</span>
<a id="__codelineno-0-388" name="__codelineno-0-388"></a>
<a id="__codelineno-0-389" name="__codelineno-0-389"></a>    <span class="nd">@bddl_object_scope</span><span class="o">.</span><span class="n">setter</span>
<a id="__codelineno-0-390" name="__codelineno-0-390"></a>    <span class="k">def</span> <span class="nf">bddl_object_scope</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
<a id="__codelineno-0-391" name="__codelineno-0-391"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-392" name="__codelineno-0-392"></a><span class="sd">        Sets which BDDL object scope name for this object. If no name, then should set to None</span>
<a id="__codelineno-0-393" name="__codelineno-0-393"></a>
<a id="__codelineno-0-394" name="__codelineno-0-394"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-395" name="__codelineno-0-395"></a><span class="sd">            name (None or str): If specified, BDDL object scope name (e.g. chip.n.04_2) to assign to this object</span>
<a id="__codelineno-0-396" name="__codelineno-0-396"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-397" name="__codelineno-0-397"></a>        <span class="c1"># Store the value to the internal variable and also update the init kwargs accordingly</span>
<a id="__codelineno-0-398" name="__codelineno-0-398"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_init_info</span><span class="p">[</span><span class="s2">&quot;args&quot;</span><span class="p">][</span><span class="s2">&quot;bddl_object_scope&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">name</span>
<a id="__codelineno-0-399" name="__codelineno-0-399"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_bddl_object_scope</span> <span class="o">=</span> <span class="n">name</span>
<a id="__codelineno-0-400" name="__codelineno-0-400"></a>
<a id="__codelineno-0-401" name="__codelineno-0-401"></a>    <span class="nd">@property</span>
<a id="__codelineno-0-402" name="__codelineno-0-402"></a>    <span class="k">def</span> <span class="nf">native_bbox</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-403" name="__codelineno-0-403"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-404" name="__codelineno-0-404"></a><span class="sd">        Get this object&#39;s native bounding box</span>
<a id="__codelineno-0-405" name="__codelineno-0-405"></a>
<a id="__codelineno-0-406" name="__codelineno-0-406"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-407" name="__codelineno-0-407"></a><span class="sd">            3-array: (x,y,z) bounding box</span>
<a id="__codelineno-0-408" name="__codelineno-0-408"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-409" name="__codelineno-0-409"></a>        <span class="k">assert</span> <span class="s2">&quot;ig:nativeBB&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">property_names</span><span class="p">,</span> \
<a id="__codelineno-0-410" name="__codelineno-0-410"></a>            <span class="sa">f</span><span class="s2">&quot;This dataset object &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; is expected to have native_bbox specified, but found none!&quot;</span>
<a id="__codelineno-0-411" name="__codelineno-0-411"></a>        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="n">attr</span><span class="o">=</span><span class="s2">&quot;ig:nativeBB&quot;</span><span class="p">))</span>
<a id="__codelineno-0-412" name="__codelineno-0-412"></a>
<a id="__codelineno-0-413" name="__codelineno-0-413"></a>    <span class="nd">@property</span>
<a id="__codelineno-0-414" name="__codelineno-0-414"></a>    <span class="k">def</span> <span class="nf">base_link_offset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-415" name="__codelineno-0-415"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-416" name="__codelineno-0-416"></a><span class="sd">        Get this object&#39;s native base link offset</span>
<a id="__codelineno-0-417" name="__codelineno-0-417"></a>
<a id="__codelineno-0-418" name="__codelineno-0-418"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-419" name="__codelineno-0-419"></a><span class="sd">            3-array: (x,y,z) base link offset if it exists</span>
<a id="__codelineno-0-420" name="__codelineno-0-420"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-421" name="__codelineno-0-421"></a>        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="n">attr</span><span class="o">=</span><span class="s2">&quot;ig:offsetBaseLink&quot;</span><span class="p">))</span>
<a id="__codelineno-0-422" name="__codelineno-0-422"></a>
<a id="__codelineno-0-423" name="__codelineno-0-423"></a>    <span class="nd">@property</span>
<a id="__codelineno-0-424" name="__codelineno-0-424"></a>    <span class="k">def</span> <span class="nf">metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-425" name="__codelineno-0-425"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-426" name="__codelineno-0-426"></a><span class="sd">        Gets this object&#39;s metadata, if it exists</span>
<a id="__codelineno-0-427" name="__codelineno-0-427"></a>
<a id="__codelineno-0-428" name="__codelineno-0-428"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-429" name="__codelineno-0-429"></a><span class="sd">            None or dict: Nested dictionary of object&#39;s metadata if it exists, else None</span>
<a id="__codelineno-0-430" name="__codelineno-0-430"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-431" name="__codelineno-0-431"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_custom_data</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;metadata&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-0-432" name="__codelineno-0-432"></a>
<a id="__codelineno-0-433" name="__codelineno-0-433"></a>    <span class="nd">@property</span>
<a id="__codelineno-0-434" name="__codelineno-0-434"></a>    <span class="k">def</span> <span class="nf">heights_per_link</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-435" name="__codelineno-0-435"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-436" name="__codelineno-0-436"></a><span class="sd">        Gets this object&#39;s heights per link information, if it exists</span>
<a id="__codelineno-0-437" name="__codelineno-0-437"></a>
<a id="__codelineno-0-438" name="__codelineno-0-438"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-439" name="__codelineno-0-439"></a><span class="sd">            None or dict: Nested dictionary of object&#39;s height per link information if it exists, else None</span>
<a id="__codelineno-0-440" name="__codelineno-0-440"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-441" name="__codelineno-0-441"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_custom_data</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;heights_per_link&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-0-442" name="__codelineno-0-442"></a>
<a id="__codelineno-0-443" name="__codelineno-0-443"></a>    <span class="nd">@property</span>
<a id="__codelineno-0-444" name="__codelineno-0-444"></a>    <span class="k">def</span> <span class="nf">orientations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-445" name="__codelineno-0-445"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-446" name="__codelineno-0-446"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-447" name="__codelineno-0-447"></a><span class="sd">            None or dict: Possible orientation information for this object, if it exists. Otherwise, returns None</span>
<a id="__codelineno-0-448" name="__codelineno-0-448"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-449" name="__codelineno-0-449"></a>        <span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span>
<a id="__codelineno-0-450" name="__codelineno-0-450"></a>        <span class="k">return</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">metadata</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">metadata</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;orientations&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-0-451" name="__codelineno-0-451"></a>
<a id="__codelineno-0-452" name="__codelineno-0-452"></a>    <span class="nd">@property</span>
<a id="__codelineno-0-453" name="__codelineno-0-453"></a>    <span class="k">def</span> <span class="nf">scaled_bbox_center_in_base_frame</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-454" name="__codelineno-0-454"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-455" name="__codelineno-0-455"></a><span class="sd">        where the base_link origin is wrt. the bounding box center. This allows us to place the model correctly</span>
<a id="__codelineno-0-456" name="__codelineno-0-456"></a><span class="sd">        since the joint transformations given in the scene USD are wrt. the bounding box center.</span>
<a id="__codelineno-0-457" name="__codelineno-0-457"></a><span class="sd">        We need to scale this offset as well.</span>
<a id="__codelineno-0-458" name="__codelineno-0-458"></a>
<a id="__codelineno-0-459" name="__codelineno-0-459"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-460" name="__codelineno-0-460"></a><span class="sd">            3-array: (x,y,z) location of bounding box, with respet to the base link&#39;s coordinate frame</span>
<a id="__codelineno-0-461" name="__codelineno-0-461"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-462" name="__codelineno-0-462"></a>        <span class="k">return</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">scale</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_link_offset</span>
<a id="__codelineno-0-463" name="__codelineno-0-463"></a>
<a id="__codelineno-0-464" name="__codelineno-0-464"></a>    <span class="nd">@property</span>
<a id="__codelineno-0-465" name="__codelineno-0-465"></a>    <span class="k">def</span> <span class="nf">native_link_bboxes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-466" name="__codelineno-0-466"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-467" name="__codelineno-0-467"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-468" name="__codelineno-0-468"></a><span class="sd">             dict: Keyword-mapped native bounding boxes for each link of this object</span>
<a id="__codelineno-0-469" name="__codelineno-0-469"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-470" name="__codelineno-0-470"></a>        <span class="k">return</span> <span class="kc">None</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;link_bounding_boxes&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-0-471" name="__codelineno-0-471"></a>
<a id="__codelineno-0-472" name="__codelineno-0-472"></a>    <span class="nd">@property</span>
<a id="__codelineno-0-473" name="__codelineno-0-473"></a>    <span class="k">def</span> <span class="nf">scales_in_link_frame</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-474" name="__codelineno-0-474"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-475" name="__codelineno-0-475"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-476" name="__codelineno-0-476"></a><span class="sd">        dict: Keyword-mapped relative scales for each link of this object</span>
<a id="__codelineno-0-477" name="__codelineno-0-477"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-478" name="__codelineno-0-478"></a>        <span class="n">scales</span> <span class="o">=</span> <span class="p">{</span><span class="bp">self</span><span class="o">.</span><span class="n">root_link</span><span class="o">.</span><span class="n">body_name</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">}</span>
<a id="__codelineno-0-479" name="__codelineno-0-479"></a>
<a id="__codelineno-0-480" name="__codelineno-0-480"></a>        <span class="c1"># We iterate through all links in this object, and check for any joint prims that exist</span>
<a id="__codelineno-0-481" name="__codelineno-0-481"></a>        <span class="c1"># We traverse manually this way instead of accessing the self._joints dictionary, because</span>
<a id="__codelineno-0-482" name="__codelineno-0-482"></a>        <span class="c1"># the dictionary only includes articulated joints and not fixed joints!</span>
<a id="__codelineno-0-483" name="__codelineno-0-483"></a>        <span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_links</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
<a id="__codelineno-0-484" name="__codelineno-0-484"></a>            <span class="k">for</span> <span class="n">prim</span> <span class="ow">in</span> <span class="n">link</span><span class="o">.</span><span class="n">prim</span><span class="o">.</span><span class="n">GetChildren</span><span class="p">():</span>
<a id="__codelineno-0-485" name="__codelineno-0-485"></a>                <span class="k">if</span> <span class="s2">&quot;joint&quot;</span> <span class="ow">in</span> <span class="n">prim</span><span class="o">.</span><span class="n">GetTypeName</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
<a id="__codelineno-0-486" name="__codelineno-0-486"></a>                    <span class="c1"># Grab relevant joint information</span>
<a id="__codelineno-0-487" name="__codelineno-0-487"></a>                    <span class="n">parent_name</span> <span class="o">=</span> <span class="n">prim</span><span class="o">.</span><span class="n">GetProperty</span><span class="p">(</span><span class="s2">&quot;physics:body0&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">GetTargets</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">pathString</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-0-488" name="__codelineno-0-488"></a>                    <span class="n">child_name</span> <span class="o">=</span> <span class="n">prim</span><span class="o">.</span><span class="n">GetProperty</span><span class="p">(</span><span class="s2">&quot;physics:body1&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">GetTargets</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">pathString</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-0-489" name="__codelineno-0-489"></a>                    <span class="k">if</span> <span class="n">parent_name</span> <span class="ow">in</span> <span class="n">scales</span> <span class="ow">and</span> <span class="n">child_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">scales</span><span class="p">:</span>
<a id="__codelineno-0-490" name="__codelineno-0-490"></a>                        <span class="n">scale_in_parent_lf</span> <span class="o">=</span> <span class="n">scales</span><span class="p">[</span><span class="n">parent_name</span><span class="p">]</span>
<a id="__codelineno-0-491" name="__codelineno-0-491"></a>                        <span class="c1"># The location of the joint frame is scaled using the scale in the parent frame</span>
<a id="__codelineno-0-492" name="__codelineno-0-492"></a>                        <span class="n">quat0</span> <span class="o">=</span> <span class="n">gf_quat_to_np_array</span><span class="p">(</span><span class="n">prim</span><span class="o">.</span><span class="n">GetAttribute</span><span class="p">(</span><span class="s2">&quot;physics:localRot0&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">Get</span><span class="p">())[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
<a id="__codelineno-0-493" name="__codelineno-0-493"></a>                        <span class="n">quat1</span> <span class="o">=</span> <span class="n">gf_quat_to_np_array</span><span class="p">(</span><span class="n">prim</span><span class="o">.</span><span class="n">GetAttribute</span><span class="p">(</span><span class="s2">&quot;physics:localRot1&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">Get</span><span class="p">())[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
<a id="__codelineno-0-494" name="__codelineno-0-494"></a>                        <span class="c1"># Invert the child link relationship, and multiply the two rotations together to get the final rotation</span>
<a id="__codelineno-0-495" name="__codelineno-0-495"></a>                        <span class="n">local_ori</span> <span class="o">=</span> <span class="n">T</span><span class="o">.</span><span class="n">quat_multiply</span><span class="p">(</span><span class="n">quaternion1</span><span class="o">=</span><span class="n">T</span><span class="o">.</span><span class="n">quat_inverse</span><span class="p">(</span><span class="n">quat1</span><span class="p">),</span> <span class="n">quaternion0</span><span class="o">=</span><span class="n">quat0</span><span class="p">)</span>
<a id="__codelineno-0-496" name="__codelineno-0-496"></a>                        <span class="n">jnt_frame_rot</span> <span class="o">=</span> <span class="n">T</span><span class="o">.</span><span class="n">quat2mat</span><span class="p">(</span><span class="n">local_ori</span><span class="p">)</span>
<a id="__codelineno-0-497" name="__codelineno-0-497"></a>                        <span class="n">scale_in_child_lf</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">absolute</span><span class="p">(</span><span class="n">jnt_frame_rot</span><span class="o">.</span><span class="n">T</span> <span class="o">@</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">scale_in_parent_lf</span><span class="p">))</span>
<a id="__codelineno-0-498" name="__codelineno-0-498"></a>                        <span class="n">scales</span><span class="p">[</span><span class="n">child_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">scale_in_child_lf</span>
<a id="__codelineno-0-499" name="__codelineno-0-499"></a>
<a id="__codelineno-0-500" name="__codelineno-0-500"></a>        <span class="k">return</span> <span class="n">scales</span>
<a id="__codelineno-0-501" name="__codelineno-0-501"></a>
<a id="__codelineno-0-502" name="__codelineno-0-502"></a>    <span class="k">def</span> <span class="nf">get_base_aligned_bbox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">link_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">visual</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">xy_aligned</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">fallback_to_aabb</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">link_bbox_type</span><span class="o">=</span><span class="s2">&quot;axis_aligned&quot;</span><span class="p">):</span>
<a id="__codelineno-0-503" name="__codelineno-0-503"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-504" name="__codelineno-0-504"></a><span class="sd">        Get a bounding box for this object that&#39;s axis-aligned in the object&#39;s base frame.</span>
<a id="__codelineno-0-505" name="__codelineno-0-505"></a>
<a id="__codelineno-0-506" name="__codelineno-0-506"></a><span class="sd">        Args:</span>
<a id="__codelineno-0-507" name="__codelineno-0-507"></a><span class="sd">            link_name (None or str): If specified, only get the bbox for the given link</span>
<a id="__codelineno-0-508" name="__codelineno-0-508"></a><span class="sd">            visual (bool): Whether to aggregate the bounding boxes from the visual meshes. Otherwise, will use</span>
<a id="__codelineno-0-509" name="__codelineno-0-509"></a><span class="sd">                collision meshes</span>
<a id="__codelineno-0-510" name="__codelineno-0-510"></a><span class="sd">            xy_aligned (bool): Whether to align the bounding box to the global XY-plane</span>
<a id="__codelineno-0-511" name="__codelineno-0-511"></a><span class="sd">            fallback_to_aabb (bool): If set and a link&#39;s info is not found, the (global-frame) AABB will be</span>
<a id="__codelineno-0-512" name="__codelineno-0-512"></a><span class="sd">                dynamically computed directly from omniverse</span>
<a id="__codelineno-0-513" name="__codelineno-0-513"></a><span class="sd">            link_bbox_type (str): Which type of link bbox to use, &quot;axis_aligned&quot; means the bounding box is axis-aligned</span>
<a id="__codelineno-0-514" name="__codelineno-0-514"></a><span class="sd">                to the link frame, &quot;oriented&quot; means the bounding box has the minimum volume</span>
<a id="__codelineno-0-515" name="__codelineno-0-515"></a>
<a id="__codelineno-0-516" name="__codelineno-0-516"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-517" name="__codelineno-0-517"></a><span class="sd">            4-tuple:</span>
<a id="__codelineno-0-518" name="__codelineno-0-518"></a><span class="sd">                - 3-array: (x,y,z) bbox center position in world frame</span>
<a id="__codelineno-0-519" name="__codelineno-0-519"></a><span class="sd">                - 3-array: (x,y,z,w) bbox quaternion orientation in world frame</span>
<a id="__codelineno-0-520" name="__codelineno-0-520"></a><span class="sd">                - 3-array: (x,y,z) bbox extent in world frame</span>
<a id="__codelineno-0-521" name="__codelineno-0-521"></a><span class="sd">                - 3-array: (x,y,z) bbox center in desired frame</span>
<a id="__codelineno-0-522" name="__codelineno-0-522"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-523" name="__codelineno-0-523"></a>        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">prim_type</span> <span class="o">==</span> <span class="n">PrimType</span><span class="o">.</span><span class="n">RIGID</span><span class="p">,</span> <span class="s2">&quot;get_base_aligned_bbox is only supported for rigid objects.&quot;</span>
<a id="__codelineno-0-524" name="__codelineno-0-524"></a>        <span class="n">bbox_type</span> <span class="o">=</span> <span class="s2">&quot;visual&quot;</span> <span class="k">if</span> <span class="n">visual</span> <span class="k">else</span> <span class="s2">&quot;collision&quot;</span>
<a id="__codelineno-0-525" name="__codelineno-0-525"></a>
<a id="__codelineno-0-526" name="__codelineno-0-526"></a>        <span class="c1"># Get the base position transform.</span>
<a id="__codelineno-0-527" name="__codelineno-0-527"></a>        <span class="n">pos</span><span class="p">,</span> <span class="n">orn</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_position_orientation</span><span class="p">()</span>
<a id="__codelineno-0-528" name="__codelineno-0-528"></a>        <span class="n">base_frame_to_world</span> <span class="o">=</span> <span class="n">T</span><span class="o">.</span><span class="n">pose2mat</span><span class="p">((</span><span class="n">pos</span><span class="p">,</span> <span class="n">orn</span><span class="p">))</span>
<a id="__codelineno-0-529" name="__codelineno-0-529"></a>
<a id="__codelineno-0-530" name="__codelineno-0-530"></a>        <span class="c1"># Compute the world-to-base frame transform.</span>
<a id="__codelineno-0-531" name="__codelineno-0-531"></a>        <span class="n">world_to_base_frame</span> <span class="o">=</span> <span class="n">trimesh</span><span class="o">.</span><span class="n">transformations</span><span class="o">.</span><span class="n">inverse_matrix</span><span class="p">(</span><span class="n">base_frame_to_world</span><span class="p">)</span>
<a id="__codelineno-0-532" name="__codelineno-0-532"></a>
<a id="__codelineno-0-533" name="__codelineno-0-533"></a>        <span class="c1"># Grab the corners of all the different links&#39; bounding boxes. We will later fit a bounding box to</span>
<a id="__codelineno-0-534" name="__codelineno-0-534"></a>        <span class="c1"># this set of points to get our final, base-frame bounding box.</span>
<a id="__codelineno-0-535" name="__codelineno-0-535"></a>        <span class="n">points</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-536" name="__codelineno-0-536"></a>
<a id="__codelineno-0-537" name="__codelineno-0-537"></a>        <span class="n">links</span> <span class="o">=</span> <span class="p">{</span><span class="n">link_name</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_links</span><span class="p">[</span><span class="n">link_name</span><span class="p">]}</span> <span class="k">if</span> <span class="n">link_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">_links</span>
<a id="__codelineno-0-538" name="__codelineno-0-538"></a>        <span class="k">for</span> <span class="n">link_name</span><span class="p">,</span> <span class="n">link</span> <span class="ow">in</span> <span class="n">links</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-539" name="__codelineno-0-539"></a>            <span class="c1"># If the link has no visual or collision meshes, we skip over it (based on the @visual flag)</span>
<a id="__codelineno-0-540" name="__codelineno-0-540"></a>            <span class="n">meshes</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="n">visual_meshes</span> <span class="k">if</span> <span class="n">visual</span> <span class="k">else</span> <span class="n">link</span><span class="o">.</span><span class="n">collision_meshes</span>
<a id="__codelineno-0-541" name="__codelineno-0-541"></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">meshes</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-542" name="__codelineno-0-542"></a>                <span class="k">continue</span>
<a id="__codelineno-0-543" name="__codelineno-0-543"></a>
<a id="__codelineno-0-544" name="__codelineno-0-544"></a>            <span class="c1"># If the link has a bounding box annotation.</span>
<a id="__codelineno-0-545" name="__codelineno-0-545"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">native_link_bboxes</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">link_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">native_link_bboxes</span><span class="p">:</span>
<a id="__codelineno-0-546" name="__codelineno-0-546"></a>                <span class="c1"># If a visual bounding box does not exist in the dictionary, try switching to collision.</span>
<a id="__codelineno-0-547" name="__codelineno-0-547"></a>                <span class="c1"># We expect that every link has its collision bb annotated (or set to None if none exists).</span>
<a id="__codelineno-0-548" name="__codelineno-0-548"></a>                <span class="k">if</span> <span class="n">bbox_type</span> <span class="o">==</span> <span class="s2">&quot;visual&quot;</span> <span class="ow">and</span> <span class="s2">&quot;visual&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">native_link_bboxes</span><span class="p">[</span><span class="n">link_name</span><span class="p">]:</span>
<a id="__codelineno-0-549" name="__codelineno-0-549"></a>                    <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
<a id="__codelineno-0-550" name="__codelineno-0-550"></a>                        <span class="s2">&quot;Falling back to collision bbox for object </span><span class="si">%s</span><span class="s2"> link </span><span class="si">%s</span><span class="s2"> since no visual bbox exists.&quot;</span><span class="p">,</span>
<a id="__codelineno-0-551" name="__codelineno-0-551"></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
<a id="__codelineno-0-552" name="__codelineno-0-552"></a>                        <span class="n">link_name</span><span class="p">,</span>
<a id="__codelineno-0-553" name="__codelineno-0-553"></a>                    <span class="p">)</span>
<a id="__codelineno-0-554" name="__codelineno-0-554"></a>                    <span class="n">bbox_type</span> <span class="o">=</span> <span class="s2">&quot;collision&quot;</span>
<a id="__codelineno-0-555" name="__codelineno-0-555"></a>
<a id="__codelineno-0-556" name="__codelineno-0-556"></a>                <span class="c1"># Check if the annotation is still missing.</span>
<a id="__codelineno-0-557" name="__codelineno-0-557"></a>                <span class="k">if</span> <span class="n">bbox_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">native_link_bboxes</span><span class="p">[</span><span class="n">link_name</span><span class="p">]:</span>
<a id="__codelineno-0-558" name="__codelineno-0-558"></a>                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-559" name="__codelineno-0-559"></a>                        <span class="s2">&quot;Could not find </span><span class="si">%s</span><span class="s2"> bounding box for object </span><span class="si">%s</span><span class="s2"> link </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">bbox_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">link_name</span><span class="p">)</span>
<a id="__codelineno-0-560" name="__codelineno-0-560"></a>                    <span class="p">)</span>
<a id="__codelineno-0-561" name="__codelineno-0-561"></a>
<a id="__codelineno-0-562" name="__codelineno-0-562"></a>                <span class="c1"># Check if a mesh exists for this link. If None, the link is meshless, so we continue to the next link.</span>
<a id="__codelineno-0-563" name="__codelineno-0-563"></a>                <span class="c1"># TODO: Because of encoding, may need to be UsdTokens.none, not None</span>
<a id="__codelineno-0-564" name="__codelineno-0-564"></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">native_link_bboxes</span><span class="p">[</span><span class="n">link_name</span><span class="p">][</span><span class="n">bbox_type</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-565" name="__codelineno-0-565"></a>                    <span class="k">continue</span>
<a id="__codelineno-0-566" name="__codelineno-0-566"></a>
<a id="__codelineno-0-567" name="__codelineno-0-567"></a>                <span class="c1"># Get the extent and transform.</span>
<a id="__codelineno-0-568" name="__codelineno-0-568"></a>                <span class="n">bb_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">native_link_bboxes</span><span class="p">[</span><span class="n">link_name</span><span class="p">][</span><span class="n">bbox_type</span><span class="p">][</span><span class="n">link_bbox_type</span><span class="p">]</span>
<a id="__codelineno-0-569" name="__codelineno-0-569"></a>                <span class="n">extent_in_bbox_frame</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">bb_data</span><span class="p">[</span><span class="s2">&quot;extent&quot;</span><span class="p">])</span>
<a id="__codelineno-0-570" name="__codelineno-0-570"></a>                <span class="n">bbox_to_link_origin</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">bb_data</span><span class="p">[</span><span class="s2">&quot;transform&quot;</span><span class="p">])</span>
<a id="__codelineno-0-571" name="__codelineno-0-571"></a>
<a id="__codelineno-0-572" name="__codelineno-0-572"></a>                <span class="c1"># # Get the link&#39;s pose in the base frame.</span>
<a id="__codelineno-0-573" name="__codelineno-0-573"></a>                <span class="n">link_frame_to_world</span> <span class="o">=</span> <span class="n">T</span><span class="o">.</span><span class="n">pose2mat</span><span class="p">(</span><span class="n">link</span><span class="o">.</span><span class="n">get_position_orientation</span><span class="p">())</span>
<a id="__codelineno-0-574" name="__codelineno-0-574"></a>                <span class="n">link_frame_to_base_frame</span> <span class="o">=</span> <span class="n">world_to_base_frame</span> <span class="o">@</span> <span class="n">link_frame_to_world</span>
<a id="__codelineno-0-575" name="__codelineno-0-575"></a>
<a id="__codelineno-0-576" name="__codelineno-0-576"></a>                <span class="c1"># Scale the bounding box in link origin frame. Here we create a transform that first puts the bounding</span>
<a id="__codelineno-0-577" name="__codelineno-0-577"></a>                <span class="c1"># box&#39;s vertices into the link frame, and then scales them to match the scale applied to this object.</span>
<a id="__codelineno-0-578" name="__codelineno-0-578"></a>                <span class="c1"># Note that once scaled, the vertices of the bounding box do not necessarily form a cuboid anymore but</span>
<a id="__codelineno-0-579" name="__codelineno-0-579"></a>                <span class="c1"># instead a parallelepiped. This is not a problem because we later fit a bounding box to the points,</span>
<a id="__codelineno-0-580" name="__codelineno-0-580"></a>                <span class="c1"># this time in the object&#39;s base link frame.</span>
<a id="__codelineno-0-581" name="__codelineno-0-581"></a>                <span class="n">scale_in_link_frame</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">diag</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">scales_in_link_frame</span><span class="p">[</span><span class="n">link_name</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">]]))</span>
<a id="__codelineno-0-582" name="__codelineno-0-582"></a>                <span class="n">bbox_to_scaled_link_origin</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">scale_in_link_frame</span><span class="p">,</span> <span class="n">bbox_to_link_origin</span><span class="p">)</span>
<a id="__codelineno-0-583" name="__codelineno-0-583"></a>
<a id="__codelineno-0-584" name="__codelineno-0-584"></a>                <span class="c1"># Compute the bounding box vertices in the base frame.</span>
<a id="__codelineno-0-585" name="__codelineno-0-585"></a>                <span class="c1"># bbox_to_link_com = np.dot(link_origin_to_link_com, bbox_to_scaled_link_origin)</span>
<a id="__codelineno-0-586" name="__codelineno-0-586"></a>                <span class="n">bbox_center_in_base_frame</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">link_frame_to_base_frame</span><span class="p">,</span> <span class="n">bbox_to_scaled_link_origin</span><span class="p">)</span>
<a id="__codelineno-0-587" name="__codelineno-0-587"></a>                <span class="n">vertices_in_base_frame</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">product</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">repeat</span><span class="o">=</span><span class="mi">3</span><span class="p">)))</span> <span class="o">*</span> <span class="p">(</span><span class="n">extent_in_bbox_frame</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-0-588" name="__codelineno-0-588"></a>
<a id="__codelineno-0-589" name="__codelineno-0-589"></a>                <span class="c1"># Add the points to our collection of points.</span>
<a id="__codelineno-0-590" name="__codelineno-0-590"></a>                <span class="n">points</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">trimesh</span><span class="o">.</span><span class="n">transformations</span><span class="o">.</span><span class="n">transform_points</span><span class="p">(</span><span class="n">vertices_in_base_frame</span><span class="p">,</span> <span class="n">bbox_center_in_base_frame</span><span class="p">))</span>
<a id="__codelineno-0-591" name="__codelineno-0-591"></a>            <span class="k">elif</span> <span class="n">fallback_to_aabb</span><span class="p">:</span>
<a id="__codelineno-0-592" name="__codelineno-0-592"></a>                <span class="c1"># If no BB annotation is available, get the AABB for this link.</span>
<a id="__codelineno-0-593" name="__codelineno-0-593"></a>                <span class="n">aabb_center</span><span class="p">,</span> <span class="n">aabb_extent</span> <span class="o">=</span> <span class="n">BoundingBoxAPI</span><span class="o">.</span><span class="n">compute_center_extent</span><span class="p">(</span><span class="n">prim_path</span><span class="o">=</span><span class="n">link</span><span class="o">.</span><span class="n">prim_path</span><span class="p">)</span>
<a id="__codelineno-0-594" name="__codelineno-0-594"></a>                <span class="n">aabb_vertices_in_world</span> <span class="o">=</span> <span class="n">aabb_center</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">product</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">repeat</span><span class="o">=</span><span class="mi">3</span><span class="p">)))</span> <span class="o">*</span> <span class="p">(</span>
<a id="__codelineno-0-595" name="__codelineno-0-595"></a>                        <span class="n">aabb_extent</span> <span class="o">/</span> <span class="mi">2</span>
<a id="__codelineno-0-596" name="__codelineno-0-596"></a>                <span class="p">)</span>
<a id="__codelineno-0-597" name="__codelineno-0-597"></a>                <span class="n">aabb_vertices_in_base_frame</span> <span class="o">=</span> <span class="n">trimesh</span><span class="o">.</span><span class="n">transformations</span><span class="o">.</span><span class="n">transform_points</span><span class="p">(</span>
<a id="__codelineno-0-598" name="__codelineno-0-598"></a>                    <span class="n">aabb_vertices_in_world</span><span class="p">,</span> <span class="n">world_to_base_frame</span>
<a id="__codelineno-0-599" name="__codelineno-0-599"></a>                <span class="p">)</span>
<a id="__codelineno-0-600" name="__codelineno-0-600"></a>                <span class="n">points</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">aabb_vertices_in_base_frame</span><span class="p">)</span>
<a id="__codelineno-0-601" name="__codelineno-0-601"></a>            <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-602" name="__codelineno-0-602"></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-603" name="__codelineno-0-603"></a>                    <span class="s2">&quot;Bounding box annotation missing for link: </span><span class="si">%s</span><span class="s2">. Use fallback_to_aabb=True if you&#39;re okay with using &quot;</span>
<a id="__codelineno-0-604" name="__codelineno-0-604"></a>                    <span class="s2">&quot;AABB as fallback.&quot;</span> <span class="o">%</span> <span class="n">link_name</span>
<a id="__codelineno-0-605" name="__codelineno-0-605"></a>                <span class="p">)</span>
<a id="__codelineno-0-606" name="__codelineno-0-606"></a>
<a id="__codelineno-0-607" name="__codelineno-0-607"></a>        <span class="k">if</span> <span class="n">xy_aligned</span><span class="p">:</span>
<a id="__codelineno-0-608" name="__codelineno-0-608"></a>            <span class="c1"># If the user requested an XY-plane aligned bbox, convert everything to that frame.</span>
<a id="__codelineno-0-609" name="__codelineno-0-609"></a>            <span class="c1"># The desired frame is same as the base_com frame with its X/Y rotations removed.</span>
<a id="__codelineno-0-610" name="__codelineno-0-610"></a>            <span class="n">translate</span> <span class="o">=</span> <span class="n">trimesh</span><span class="o">.</span><span class="n">transformations</span><span class="o">.</span><span class="n">translation_from_matrix</span><span class="p">(</span><span class="n">base_frame_to_world</span><span class="p">)</span>
<a id="__codelineno-0-611" name="__codelineno-0-611"></a>
<a id="__codelineno-0-612" name="__codelineno-0-612"></a>            <span class="c1"># To find the rotation that this transform does around the Z axis, we rotate the [1, 0, 0] vector by it</span>
<a id="__codelineno-0-613" name="__codelineno-0-613"></a>            <span class="c1"># and then take the arctangent of its projection onto the XY plane.</span>
<a id="__codelineno-0-614" name="__codelineno-0-614"></a>            <span class="n">rotated_X_axis</span> <span class="o">=</span> <span class="n">base_frame_to_world</span><span class="p">[:</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-615" name="__codelineno-0-615"></a>            <span class="n">rotation_around_Z_axis</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="n">rotated_X_axis</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">rotated_X_axis</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<a id="__codelineno-0-616" name="__codelineno-0-616"></a>            <span class="n">xy_aligned_base_com_to_world</span> <span class="o">=</span> <span class="n">trimesh</span><span class="o">.</span><span class="n">transformations</span><span class="o">.</span><span class="n">compose_matrix</span><span class="p">(</span>
<a id="__codelineno-0-617" name="__codelineno-0-617"></a>                <span class="n">translate</span><span class="o">=</span><span class="n">translate</span><span class="p">,</span> <span class="n">angles</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">rotation_around_Z_axis</span><span class="p">]</span>
<a id="__codelineno-0-618" name="__codelineno-0-618"></a>            <span class="p">)</span>
<a id="__codelineno-0-619" name="__codelineno-0-619"></a>
<a id="__codelineno-0-620" name="__codelineno-0-620"></a>            <span class="c1"># We want to move our points to this frame as well.</span>
<a id="__codelineno-0-621" name="__codelineno-0-621"></a>            <span class="n">world_to_xy_aligned_base_com</span> <span class="o">=</span> <span class="n">trimesh</span><span class="o">.</span><span class="n">transformations</span><span class="o">.</span><span class="n">inverse_matrix</span><span class="p">(</span><span class="n">xy_aligned_base_com_to_world</span><span class="p">)</span>
<a id="__codelineno-0-622" name="__codelineno-0-622"></a>            <span class="n">base_com_to_xy_aligned_base_com</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">world_to_xy_aligned_base_com</span><span class="p">,</span> <span class="n">base_frame_to_world</span><span class="p">)</span>
<a id="__codelineno-0-623" name="__codelineno-0-623"></a>            <span class="n">points</span> <span class="o">=</span> <span class="n">trimesh</span><span class="o">.</span><span class="n">transformations</span><span class="o">.</span><span class="n">transform_points</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">base_com_to_xy_aligned_base_com</span><span class="p">)</span>
<a id="__codelineno-0-624" name="__codelineno-0-624"></a>
<a id="__codelineno-0-625" name="__codelineno-0-625"></a>            <span class="c1"># Finally update our desired frame.</span>
<a id="__codelineno-0-626" name="__codelineno-0-626"></a>            <span class="n">desired_frame_to_world</span> <span class="o">=</span> <span class="n">xy_aligned_base_com_to_world</span>
<a id="__codelineno-0-627" name="__codelineno-0-627"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-628" name="__codelineno-0-628"></a>            <span class="c1"># Default desired frame is base CoM frame.</span>
<a id="__codelineno-0-629" name="__codelineno-0-629"></a>            <span class="n">desired_frame_to_world</span> <span class="o">=</span> <span class="n">base_frame_to_world</span>
<a id="__codelineno-0-630" name="__codelineno-0-630"></a>
<a id="__codelineno-0-631" name="__codelineno-0-631"></a>        <span class="c1"># TODO: Implement logic to allow tight bounding boxes that don&#39;t necessarily have to match the base frame.</span>
<a id="__codelineno-0-632" name="__codelineno-0-632"></a>        <span class="c1"># All points are now in the desired frame: either the base CoM or the xy-plane-aligned base CoM.</span>
<a id="__codelineno-0-633" name="__codelineno-0-633"></a>        <span class="c1"># Now fit a bounding box to all the points by taking the minimum/maximum in the desired frame.</span>
<a id="__codelineno-0-634" name="__codelineno-0-634"></a>        <span class="n">aabb_min_in_desired_frame</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">amin</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-635" name="__codelineno-0-635"></a>        <span class="n">aabb_max_in_desired_frame</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">amax</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-636" name="__codelineno-0-636"></a>        <span class="n">bbox_center_in_desired_frame</span> <span class="o">=</span> <span class="p">(</span><span class="n">aabb_min_in_desired_frame</span> <span class="o">+</span> <span class="n">aabb_max_in_desired_frame</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
<a id="__codelineno-0-637" name="__codelineno-0-637"></a>        <span class="n">bbox_extent_in_desired_frame</span> <span class="o">=</span> <span class="n">aabb_max_in_desired_frame</span> <span class="o">-</span> <span class="n">aabb_min_in_desired_frame</span>
<a id="__codelineno-0-638" name="__codelineno-0-638"></a>
<a id="__codelineno-0-639" name="__codelineno-0-639"></a>        <span class="c1"># Transform the center to the world frame.</span>
<a id="__codelineno-0-640" name="__codelineno-0-640"></a>        <span class="n">bbox_center_in_world</span> <span class="o">=</span> <span class="n">trimesh</span><span class="o">.</span><span class="n">transformations</span><span class="o">.</span><span class="n">transform_points</span><span class="p">(</span>
<a id="__codelineno-0-641" name="__codelineno-0-641"></a>            <span class="p">[</span><span class="n">bbox_center_in_desired_frame</span><span class="p">],</span> <span class="n">desired_frame_to_world</span>
<a id="__codelineno-0-642" name="__codelineno-0-642"></a>        <span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-643" name="__codelineno-0-643"></a>        <span class="n">bbox_orn_in_world</span> <span class="o">=</span> <span class="n">Rotation</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">desired_frame_to_world</span><span class="p">[:</span><span class="mi">3</span><span class="p">,</span> <span class="p">:</span><span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">as_quat</span><span class="p">()</span>
<a id="__codelineno-0-644" name="__codelineno-0-644"></a>
<a id="__codelineno-0-645" name="__codelineno-0-645"></a>        <span class="k">return</span> <span class="n">bbox_center_in_world</span><span class="p">,</span> <span class="n">bbox_orn_in_world</span><span class="p">,</span> <span class="n">bbox_extent_in_desired_frame</span><span class="p">,</span> <span class="n">bbox_center_in_desired_frame</span>
<a id="__codelineno-0-646" name="__codelineno-0-646"></a>
<a id="__codelineno-0-647" name="__codelineno-0-647"></a>    <span class="nd">@property</span>
<a id="__codelineno-0-648" name="__codelineno-0-648"></a>    <span class="k">def</span> <span class="nf">avg_obj_dims</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-649" name="__codelineno-0-649"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-650" name="__codelineno-0-650"></a><span class="sd">        Get the average object dimensions for this object, based on its category</span>
<a id="__codelineno-0-651" name="__codelineno-0-651"></a>
<a id="__codelineno-0-652" name="__codelineno-0-652"></a><span class="sd">        Returns:</span>
<a id="__codelineno-0-653" name="__codelineno-0-653"></a><span class="sd">            None or dict: Average object information based on its category</span>
<a id="__codelineno-0-654" name="__codelineno-0-654"></a><span class="sd">        &quot;&quot;&quot;</span>
<a id="__codelineno-0-655" name="__codelineno-0-655"></a>        <span class="k">return</span> <span class="n">AVERAGE_CATEGORY_SPECS</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">category</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-0-656" name="__codelineno-0-656"></a>
<a id="__codelineno-0-657" name="__codelineno-0-657"></a>    <span class="k">def</span> <span class="nf">_create_prim_with_same_kwargs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prim_path</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">load_config</span><span class="p">):</span>
<a id="__codelineno-0-658" name="__codelineno-0-658"></a>        <span class="c1"># Add additional kwargs (fit_avg_dim_volume and bounding_box are already captured in load_config)</span>
<a id="__codelineno-0-659" name="__codelineno-0-659"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span>
<a id="__codelineno-0-660" name="__codelineno-0-660"></a>            <span class="n">prim_path</span><span class="o">=</span><span class="n">prim_path</span><span class="p">,</span>
<a id="__codelineno-0-661" name="__codelineno-0-661"></a>            <span class="n">usd_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_usd_path</span><span class="p">,</span>
<a id="__codelineno-0-662" name="__codelineno-0-662"></a>            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
<a id="__codelineno-0-663" name="__codelineno-0-663"></a>            <span class="n">category</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">category</span><span class="p">,</span>
<a id="__codelineno-0-664" name="__codelineno-0-664"></a>            <span class="n">class_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">class_id</span><span class="p">,</span>
<a id="__codelineno-0-665" name="__codelineno-0-665"></a>            <span class="n">scale</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">,</span>
<a id="__codelineno-0-666" name="__codelineno-0-666"></a>            <span class="n">visible</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">visible</span><span class="p">,</span>
<a id="__codelineno-0-667" name="__codelineno-0-667"></a>            <span class="n">fixed_base</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fixed_base</span><span class="p">,</span>
<a id="__codelineno-0-668" name="__codelineno-0-668"></a>            <span class="n">visual_only</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_visual_only</span><span class="p">,</span>
<a id="__codelineno-0-669" name="__codelineno-0-669"></a>            <span class="n">prim_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_prim_type</span><span class="p">,</span>
<a id="__codelineno-0-670" name="__codelineno-0-670"></a>            <span class="n">load_config</span><span class="o">=</span><span class="n">load_config</span><span class="p">,</span>
<a id="__codelineno-0-671" name="__codelineno-0-671"></a>            <span class="n">abilities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_abilities</span><span class="p">,</span>
<a id="__codelineno-0-672" name="__codelineno-0-672"></a>            <span class="n">in_rooms</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">in_rooms</span><span class="p">,</span>
<a id="__codelineno-0-673" name="__codelineno-0-673"></a>            <span class="n">bddl_object_scope</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bddl_object_scope</span><span class="p">,</span>
<a id="__codelineno-0-674" name="__codelineno-0-674"></a>        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="objects.dataset_object.DatasetObject.avg_obj_dims">
<code class="highlight language-python"><span class="n">avg_obj_dims</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get the average object dimensions for this object, based on its category</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
          </td>
          <td><p>None or dict: Average object information based on its category</p></td>
        </tr>
    </tbody>
  </table>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="objects.dataset_object.DatasetObject.base_link_offset">
<code class="highlight language-python"><span class="n">base_link_offset</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get this object's native base link offset</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
          </td>
          <td><p>3-array: (x,y,z) base link offset if it exists</p></td>
        </tr>
    </tbody>
  </table>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="objects.dataset_object.DatasetObject.bddl_object_scope">
<code class="highlight language-python"><span class="n">bddl_object_scope</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
          </td>
          <td><p>None or str: If specified, BDDL object scope name (e.g. chip.n.04_2) to assign to this object</p></td>
        </tr>
    </tbody>
  </table>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="objects.dataset_object.DatasetObject.heights_per_link">
<code class="highlight language-python"><span class="n">heights_per_link</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Gets this object's heights per link information, if it exists</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
          </td>
          <td><p>None or dict: Nested dictionary of object's height per link information if it exists, else None</p></td>
        </tr>
    </tbody>
  </table>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="objects.dataset_object.DatasetObject.in_rooms">
<code class="highlight language-python"><span class="n">in_rooms</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
          </td>
          <td><p>None or list of str: If specified, room(s) that this object should belong to</p></td>
        </tr>
    </tbody>
  </table>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="objects.dataset_object.DatasetObject.metadata">
<code class="highlight language-python"><span class="n">metadata</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Gets this object's metadata, if it exists</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
          </td>
          <td><p>None or dict: Nested dictionary of object's metadata if it exists, else None</p></td>
        </tr>
    </tbody>
  </table>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="objects.dataset_object.DatasetObject.native_bbox">
<code class="highlight language-python"><span class="n">native_bbox</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get this object's native bounding box</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
          </td>
          <td><p>3-array: (x,y,z) bounding box</p></td>
        </tr>
    </tbody>
  </table>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="objects.dataset_object.DatasetObject.native_link_bboxes">
<code class="highlight language-python"><span class="n">native_link_bboxes</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>dict</code></td>          <td>
          </td>
          <td><p>Keyword-mapped native bounding boxes for each link of this object</p></td>
        </tr>
    </tbody>
  </table>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="objects.dataset_object.DatasetObject.orientations">
<code class="highlight language-python"><span class="n">orientations</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
          </td>
          <td><p>None or dict: Possible orientation information for this object, if it exists. Otherwise, returns None</p></td>
        </tr>
    </tbody>
  </table>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="objects.dataset_object.DatasetObject.scaled_bbox_center_in_base_frame">
<code class="highlight language-python"><span class="n">scaled_bbox_center_in_base_frame</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>where the base_link origin is wrt. the bounding box center. This allows us to place the model correctly
since the joint transformations given in the scene USD are wrt. the bounding box center.
We need to scale this offset as well.</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
          </td>
          <td><p>3-array: (x,y,z) location of bounding box, with respet to the base link's coordinate frame</p></td>
        </tr>
    </tbody>
  </table>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="objects.dataset_object.DatasetObject.scales_in_link_frame">
<code class="highlight language-python"><span class="n">scales_in_link_frame</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>dict: Keyword-mapped relative scales for each link of this object</p>
  </div>

</div>



<div class="doc doc-object doc-function">



<h3 class="doc doc-heading" id="objects.dataset_object.DatasetObject.__init__">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">usd_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">prim_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="s1">&#39;object&#39;</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">class_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">uuid</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">visible</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fixed_base</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">visual_only</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">self_collisions</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">prim_type</span><span class="o">=</span><span class="n">PrimType</span><span class="o">.</span><span class="n">RIGID</span><span class="p">,</span> <span class="n">load_config</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">abilities</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">include_default_states</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">bounding_box</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fit_avg_dim_volume</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">in_rooms</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bddl_object_scope</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>name</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Name for the object. Names need to be unique per scene</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>usd_path</code></td>
          <td>
                <code>None or str</code>
          </td>
          <td><p>If specified, global path to the USD file to load. Note that this will override
@category + @model!</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>prim_path</code></td>
          <td>
                <code>None or str</code>
          </td>
          <td><p>global path in the stage to this object. If not specified, will automatically be
created at /World/<name></p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>category</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Category for the object. Defaults to "object".</p></td>
          <td>
                <code>&#39;object&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>model</code></td>
          <td>
                <code>None or str</code>
          </td>
          <td><p>if @usd_path is not specified, then this must be specified in conjunction with
@category to infer the usd filepath to load for this object, which evaluates to the following:</p>
<div class="highlight"><pre><span></span><code>{og_dataset_path}/objects/{category}/{model}/usd/{model}.usd
</code></pre></div></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>class_id</code></td>
          <td>
                <code>None or int</code>
          </td>
          <td><p>What class ID the object should be assigned in semantic segmentation rendering mode.
If None, the ID will be inferred from this object's category.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>uuid</code></td>
          <td>
                <code>None or int</code>
          </td>
          <td><p>Unique unsigned-integer identifier to assign to this object (max 8-numbers).
If None is specified, then it will be auto-generated</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>scale</code></td>
          <td>
                <code>None or float or 3-array</code>
          </td>
          <td><p>if specified, sets either the uniform (float) or x,y,z (3-array) scale
for this object. A single number corresponds to uniform scaling along the x,y,z axes, whereas a
3-array specifies per-axis scaling.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>visible</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>whether to render this object or not in the stage</p></td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>fixed_base</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>whether to fix the base of this object or not</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>visual_only</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>Whether this object should be visual only (and not collide with any other objects)</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>self_collisions</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>Whether to enable self collisions for this object</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>prim_type</code></td>
          <td>
                <code><span title="omnigibson.utils.constants.PrimType">PrimType</span></code>
          </td>
          <td><p>Which type of prim the object is, Valid options are: {PrimType.RIGID, PrimType.CLOTH}</p></td>
          <td>
                <code>PrimType.RIGID</code>
          </td>
        </tr>
        <tr>
          <td><code>load_config</code></td>
          <td>
                <code>None or dict</code>
          </td>
          <td><p>If specified, should contain keyword-mapped values that are relevant for
loading this prim at runtime.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>abilities</code></td>
          <td>
                <code>None or dict</code>
          </td>
          <td><p>If specified, manually adds specific object states to this object. It should be
a dict in the form of {ability: {param: value}} containing object abilities and parameters to pass to
the object state instance constructor.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>include_default_states</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>whether to include the default object states from @get_default_states</p></td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>bounding_box</code></td>
          <td>
                <code>None or 3-array</code>
          </td>
          <td><p>If specified, will scale this object such that it fits in the desired
(x,y,z) object-aligned bounding box. Note that EITHER @bounding_box or @scale may be specified
-- not both!</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>fit_avg_dim_volume</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>whether to fit the object to have the same volume as the average dimension
while keeping the aspect ratio. Note that if this is set, it will override both @scale and @bounding_box</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>in_rooms</code></td>
          <td>
                <code>None or list</code>
          </td>
          <td><p>If specified, sets the rooms that this object should belong to</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>bddl_object_scope</code></td>
          <td>
                <code>None or str</code>
          </td>
          <td><p>If specified, should set the BDDL object scope name, e.g. chip.n.04_2</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>kwargs</code></td>
          <td>
                <code>dict</code>
          </td>
          <td><p>Additional keyword arguments that are used for other super() calls from subclasses, allowing
for flexible compositions of various object subclasses (e.g.: Robot is USDObject + ControllableObject).</p></td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>objects\dataset_object.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-42"> 42</a></span>
<span class="normal"><a href="#__codelineno-0-43"> 43</a></span>
<span class="normal"><a href="#__codelineno-0-44"> 44</a></span>
<span class="normal"><a href="#__codelineno-0-45"> 45</a></span>
<span class="normal"><a href="#__codelineno-0-46"> 46</a></span>
<span class="normal"><a href="#__codelineno-0-47"> 47</a></span>
<span class="normal"><a href="#__codelineno-0-48"> 48</a></span>
<span class="normal"><a href="#__codelineno-0-49"> 49</a></span>
<span class="normal"><a href="#__codelineno-0-50"> 50</a></span>
<span class="normal"><a href="#__codelineno-0-51"> 51</a></span>
<span class="normal"><a href="#__codelineno-0-52"> 52</a></span>
<span class="normal"><a href="#__codelineno-0-53"> 53</a></span>
<span class="normal"><a href="#__codelineno-0-54"> 54</a></span>
<span class="normal"><a href="#__codelineno-0-55"> 55</a></span>
<span class="normal"><a href="#__codelineno-0-56"> 56</a></span>
<span class="normal"><a href="#__codelineno-0-57"> 57</a></span>
<span class="normal"><a href="#__codelineno-0-58"> 58</a></span>
<span class="normal"><a href="#__codelineno-0-59"> 59</a></span>
<span class="normal"><a href="#__codelineno-0-60"> 60</a></span>
<span class="normal"><a href="#__codelineno-0-61"> 61</a></span>
<span class="normal"><a href="#__codelineno-0-62"> 62</a></span>
<span class="normal"><a href="#__codelineno-0-63"> 63</a></span>
<span class="normal"><a href="#__codelineno-0-64"> 64</a></span>
<span class="normal"><a href="#__codelineno-0-65"> 65</a></span>
<span class="normal"><a href="#__codelineno-0-66"> 66</a></span>
<span class="normal"><a href="#__codelineno-0-67"> 67</a></span>
<span class="normal"><a href="#__codelineno-0-68"> 68</a></span>
<span class="normal"><a href="#__codelineno-0-69"> 69</a></span>
<span class="normal"><a href="#__codelineno-0-70"> 70</a></span>
<span class="normal"><a href="#__codelineno-0-71"> 71</a></span>
<span class="normal"><a href="#__codelineno-0-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-0-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-0-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-0-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-0-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-0-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-0-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-0-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-0-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-0-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-0-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-0-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-0-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-0-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-0-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-0-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-0-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-0-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-0-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-0-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-0-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-0-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-0-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-0-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-0-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span>
<span class="normal"><a href="#__codelineno-0-111">111</a></span>
<span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span>
<span class="normal"><a href="#__codelineno-0-121">121</a></span>
<span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span>
<span class="normal"><a href="#__codelineno-0-131">131</a></span>
<span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span>
<span class="normal"><a href="#__codelineno-0-138">138</a></span>
<span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span>
<span class="normal"><a href="#__codelineno-0-145">145</a></span>
<span class="normal"><a href="#__codelineno-0-146">146</a></span>
<span class="normal"><a href="#__codelineno-0-147">147</a></span>
<span class="normal"><a href="#__codelineno-0-148">148</a></span>
<span class="normal"><a href="#__codelineno-0-149">149</a></span>
<span class="normal"><a href="#__codelineno-0-150">150</a></span>
<span class="normal"><a href="#__codelineno-0-151">151</a></span>
<span class="normal"><a href="#__codelineno-0-152">152</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-42" name="__codelineno-0-42"></a><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a>    <span class="n">name</span><span class="p">,</span>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a>    <span class="n">usd_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a>    <span class="n">prim_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a>    <span class="n">category</span><span class="o">=</span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a>    <span class="n">model</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a>    <span class="n">class_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a>    <span class="n">uuid</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a>    <span class="n">scale</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a>    <span class="n">visible</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a>    <span class="n">fixed_base</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a>    <span class="n">visual_only</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a>    <span class="n">self_collisions</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a>    <span class="n">prim_type</span><span class="o">=</span><span class="n">PrimType</span><span class="o">.</span><span class="n">RIGID</span><span class="p">,</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a>    <span class="n">load_config</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a>    <span class="n">abilities</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a>    <span class="n">include_default_states</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a>    <span class="n">bounding_box</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a>    <span class="n">fit_avg_dim_volume</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a>    <span class="n">in_rooms</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a>    <span class="n">bddl_object_scope</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a>    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a><span class="p">):</span>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a><span class="sd">        name (str): Name for the object. Names need to be unique per scene</span>
<a id="__codelineno-0-69" name="__codelineno-0-69"></a><span class="sd">        usd_path (None or str): If specified, global path to the USD file to load. Note that this will override</span>
<a id="__codelineno-0-70" name="__codelineno-0-70"></a><span class="sd">            @category + @model!</span>
<a id="__codelineno-0-71" name="__codelineno-0-71"></a><span class="sd">        prim_path (None or str): global path in the stage to this object. If not specified, will automatically be</span>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a><span class="sd">            created at /World/&lt;name&gt;</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a><span class="sd">        category (str): Category for the object. Defaults to &quot;object&quot;.</span>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a><span class="sd">        model (None or str): if @usd_path is not specified, then this must be specified in conjunction with</span>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a><span class="sd">            @category to infer the usd filepath to load for this object, which evaluates to the following:</span>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a><span class="sd">                {og_dataset_path}/objects/{category}/{model}/usd/{model}.usd</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a><span class="sd">        class_id (None or int): What class ID the object should be assigned in semantic segmentation rendering mode.</span>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a><span class="sd">            If None, the ID will be inferred from this object&#39;s category.</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a><span class="sd">        uuid (None or int): Unique unsigned-integer identifier to assign to this object (max 8-numbers).</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a><span class="sd">            If None is specified, then it will be auto-generated</span>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a><span class="sd">        scale (None or float or 3-array): if specified, sets either the uniform (float) or x,y,z (3-array) scale</span>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a><span class="sd">            for this object. A single number corresponds to uniform scaling along the x,y,z axes, whereas a</span>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a><span class="sd">            3-array specifies per-axis scaling.</span>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a><span class="sd">        visible (bool): whether to render this object or not in the stage</span>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a><span class="sd">        fixed_base (bool): whether to fix the base of this object or not</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a><span class="sd">        visual_only (bool): Whether this object should be visual only (and not collide with any other objects)</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a><span class="sd">        self_collisions (bool): Whether to enable self collisions for this object</span>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a><span class="sd">        prim_type (PrimType): Which type of prim the object is, Valid options are: {PrimType.RIGID, PrimType.CLOTH}</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a><span class="sd">        load_config (None or dict): If specified, should contain keyword-mapped values that are relevant for</span>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a><span class="sd">            loading this prim at runtime.</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a><span class="sd">        abilities (None or dict): If specified, manually adds specific object states to this object. It should be</span>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a><span class="sd">            a dict in the form of {ability: {param: value}} containing object abilities and parameters to pass to</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a><span class="sd">            the object state instance constructor.</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a><span class="sd">        include_default_states (bool): whether to include the default object states from @get_default_states</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a><span class="sd">        bounding_box (None or 3-array): If specified, will scale this object such that it fits in the desired</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a><span class="sd">            (x,y,z) object-aligned bounding box. Note that EITHER @bounding_box or @scale may be specified</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a><span class="sd">            -- not both!</span>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a><span class="sd">        fit_avg_dim_volume (bool): whether to fit the object to have the same volume as the average dimension</span>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a><span class="sd">            while keeping the aspect ratio. Note that if this is set, it will override both @scale and @bounding_box</span>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a><span class="sd">        in_rooms (None or list): If specified, sets the rooms that this object should belong to</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a><span class="sd">        bddl_object_scope (None or str): If specified, should set the BDDL object scope name, e.g. chip.n.04_2</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a><span class="sd">        kwargs (dict): Additional keyword arguments that are used for other super() calls from subclasses, allowing</span>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a><span class="sd">            for flexible compositions of various object subclasses (e.g.: Robot is USDObject + ControllableObject).</span>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a>    <span class="c1"># Store variables</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_in_rooms</span> <span class="o">=</span> <span class="n">in_rooms</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_bddl_object_scope</span> <span class="o">=</span> <span class="n">bddl_object_scope</span>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a>    <span class="c1"># Info that will be filled in at runtime</span>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">supporting_surfaces</span> <span class="o">=</span> <span class="kc">None</span>             <span class="c1"># Dictionary mapping link names to surfaces represented by links</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a>    <span class="c1"># Make sure only one of bounding_box and scale are specified</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a>    <span class="k">if</span> <span class="n">bounding_box</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">scale</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a>        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;You cannot define both scale and bounding box size for an DatasetObject&quot;</span><span class="p">)</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a>    <span class="c1"># Add info to load config</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a>    <span class="n">load_config</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span> <span class="k">if</span> <span class="n">load_config</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">load_config</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a>    <span class="n">load_config</span><span class="p">[</span><span class="s2">&quot;bounding_box&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bounding_box</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a>    <span class="n">load_config</span><span class="p">[</span><span class="s2">&quot;fit_avg_dim_volume&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fit_avg_dim_volume</span>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a>    <span class="c1"># Infer the correct usd path to use</span>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a>    <span class="k">if</span> <span class="n">usd_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a>        <span class="k">assert</span> <span class="n">model</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Either usd_path or model and category must be specified in order to create a&quot;</span> \
<a id="__codelineno-0-126" name="__codelineno-0-126"></a>                                  <span class="sa">f</span><span class="s2">&quot;DatasetObject!&quot;</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a>        <span class="n">usd_path</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">gm</span><span class="o">.</span><span class="n">DATASET_PATH</span><span class="si">}</span><span class="s2">/objects/</span><span class="si">{</span><span class="n">category</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">model</span><span class="si">}</span><span class="s2">/usd/</span><span class="si">{</span><span class="n">model</span><span class="si">}</span><span class="s2">.usd&quot;</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a>    <span class="c1"># Post-process the usd path if we&#39;re generating a cloth object</span>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a>    <span class="k">if</span> <span class="n">prim_type</span> <span class="o">==</span> <span class="n">PrimType</span><span class="o">.</span><span class="n">CLOTH</span><span class="p">:</span>
<a id="__codelineno-0-131" name="__codelineno-0-131"></a>        <span class="k">assert</span> <span class="n">usd_path</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.usd&quot;</span><span class="p">),</span> <span class="sa">f</span><span class="s2">&quot;usd_path [</span><span class="si">{</span><span class="n">usd_path</span><span class="si">}</span><span class="s2">] is invalid.&quot;</span>
<a id="__codelineno-0-132" name="__codelineno-0-132"></a>        <span class="n">usd_path</span> <span class="o">=</span> <span class="n">usd_path</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;_cloth.usd&quot;</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a>    <span class="c1"># Run super init</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a>    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a>        <span class="n">prim_path</span><span class="o">=</span><span class="n">prim_path</span><span class="p">,</span>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a>        <span class="n">usd_path</span><span class="o">=</span><span class="n">usd_path</span><span class="p">,</span>
<a id="__codelineno-0-138" name="__codelineno-0-138"></a>        <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
<a id="__codelineno-0-139" name="__codelineno-0-139"></a>        <span class="n">category</span><span class="o">=</span><span class="n">category</span><span class="p">,</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a>        <span class="n">class_id</span><span class="o">=</span><span class="n">class_id</span><span class="p">,</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a>        <span class="n">uuid</span><span class="o">=</span><span class="n">uuid</span><span class="p">,</span>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a>        <span class="n">scale</span><span class="o">=</span><span class="n">scale</span><span class="p">,</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a>        <span class="n">visible</span><span class="o">=</span><span class="n">visible</span><span class="p">,</span>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a>        <span class="n">fixed_base</span><span class="o">=</span><span class="n">fixed_base</span><span class="p">,</span>
<a id="__codelineno-0-145" name="__codelineno-0-145"></a>        <span class="n">visual_only</span><span class="o">=</span><span class="n">visual_only</span><span class="p">,</span>
<a id="__codelineno-0-146" name="__codelineno-0-146"></a>        <span class="n">self_collisions</span><span class="o">=</span><span class="n">self_collisions</span><span class="p">,</span>
<a id="__codelineno-0-147" name="__codelineno-0-147"></a>        <span class="n">prim_type</span><span class="o">=</span><span class="n">prim_type</span><span class="p">,</span>
<a id="__codelineno-0-148" name="__codelineno-0-148"></a>        <span class="n">include_default_states</span><span class="o">=</span><span class="n">include_default_states</span><span class="p">,</span>
<a id="__codelineno-0-149" name="__codelineno-0-149"></a>        <span class="n">load_config</span><span class="o">=</span><span class="n">load_config</span><span class="p">,</span>
<a id="__codelineno-0-150" name="__codelineno-0-150"></a>        <span class="n">abilities</span><span class="o">=</span><span class="n">abilities</span><span class="p">,</span>
<a id="__codelineno-0-151" name="__codelineno-0-151"></a>        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<a id="__codelineno-0-152" name="__codelineno-0-152"></a>    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 class="doc doc-heading" id="objects.dataset_object.DatasetObject.get_base_aligned_bbox">
<code class="highlight language-python"><span class="n">get_base_aligned_bbox</span><span class="p">(</span><span class="n">link_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">visual</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">xy_aligned</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">fallback_to_aabb</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">link_bbox_type</span><span class="o">=</span><span class="s1">&#39;axis_aligned&#39;</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Get a bounding box for this object that's axis-aligned in the object's base frame.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>link_name</code></td>
          <td>
                <code>None or str</code>
          </td>
          <td><p>If specified, only get the bbox for the given link</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>visual</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>Whether to aggregate the bounding boxes from the visual meshes. Otherwise, will use
collision meshes</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>xy_aligned</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>Whether to align the bounding box to the global XY-plane</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>fallback_to_aabb</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>If set and a link's info is not found, the (global-frame) AABB will be
dynamically computed directly from omniverse</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>link_bbox_type</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Which type of link bbox to use, "axis_aligned" means the bounding box is axis-aligned
to the link frame, "oriented" means the bounding box has the minimum volume</p></td>
          <td>
                <code>&#39;axis_aligned&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
          </td>
          <td><p>4-tuple:
- 3-array: (x,y,z) bbox center position in world frame
- 3-array: (x,y,z,w) bbox quaternion orientation in world frame
- 3-array: (x,y,z) bbox extent in world frame
- 3-array: (x,y,z) bbox center in desired frame</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>objects\dataset_object.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-502">502</a></span>
<span class="normal"><a href="#__codelineno-0-503">503</a></span>
<span class="normal"><a href="#__codelineno-0-504">504</a></span>
<span class="normal"><a href="#__codelineno-0-505">505</a></span>
<span class="normal"><a href="#__codelineno-0-506">506</a></span>
<span class="normal"><a href="#__codelineno-0-507">507</a></span>
<span class="normal"><a href="#__codelineno-0-508">508</a></span>
<span class="normal"><a href="#__codelineno-0-509">509</a></span>
<span class="normal"><a href="#__codelineno-0-510">510</a></span>
<span class="normal"><a href="#__codelineno-0-511">511</a></span>
<span class="normal"><a href="#__codelineno-0-512">512</a></span>
<span class="normal"><a href="#__codelineno-0-513">513</a></span>
<span class="normal"><a href="#__codelineno-0-514">514</a></span>
<span class="normal"><a href="#__codelineno-0-515">515</a></span>
<span class="normal"><a href="#__codelineno-0-516">516</a></span>
<span class="normal"><a href="#__codelineno-0-517">517</a></span>
<span class="normal"><a href="#__codelineno-0-518">518</a></span>
<span class="normal"><a href="#__codelineno-0-519">519</a></span>
<span class="normal"><a href="#__codelineno-0-520">520</a></span>
<span class="normal"><a href="#__codelineno-0-521">521</a></span>
<span class="normal"><a href="#__codelineno-0-522">522</a></span>
<span class="normal"><a href="#__codelineno-0-523">523</a></span>
<span class="normal"><a href="#__codelineno-0-524">524</a></span>
<span class="normal"><a href="#__codelineno-0-525">525</a></span>
<span class="normal"><a href="#__codelineno-0-526">526</a></span>
<span class="normal"><a href="#__codelineno-0-527">527</a></span>
<span class="normal"><a href="#__codelineno-0-528">528</a></span>
<span class="normal"><a href="#__codelineno-0-529">529</a></span>
<span class="normal"><a href="#__codelineno-0-530">530</a></span>
<span class="normal"><a href="#__codelineno-0-531">531</a></span>
<span class="normal"><a href="#__codelineno-0-532">532</a></span>
<span class="normal"><a href="#__codelineno-0-533">533</a></span>
<span class="normal"><a href="#__codelineno-0-534">534</a></span>
<span class="normal"><a href="#__codelineno-0-535">535</a></span>
<span class="normal"><a href="#__codelineno-0-536">536</a></span>
<span class="normal"><a href="#__codelineno-0-537">537</a></span>
<span class="normal"><a href="#__codelineno-0-538">538</a></span>
<span class="normal"><a href="#__codelineno-0-539">539</a></span>
<span class="normal"><a href="#__codelineno-0-540">540</a></span>
<span class="normal"><a href="#__codelineno-0-541">541</a></span>
<span class="normal"><a href="#__codelineno-0-542">542</a></span>
<span class="normal"><a href="#__codelineno-0-543">543</a></span>
<span class="normal"><a href="#__codelineno-0-544">544</a></span>
<span class="normal"><a href="#__codelineno-0-545">545</a></span>
<span class="normal"><a href="#__codelineno-0-546">546</a></span>
<span class="normal"><a href="#__codelineno-0-547">547</a></span>
<span class="normal"><a href="#__codelineno-0-548">548</a></span>
<span class="normal"><a href="#__codelineno-0-549">549</a></span>
<span class="normal"><a href="#__codelineno-0-550">550</a></span>
<span class="normal"><a href="#__codelineno-0-551">551</a></span>
<span class="normal"><a href="#__codelineno-0-552">552</a></span>
<span class="normal"><a href="#__codelineno-0-553">553</a></span>
<span class="normal"><a href="#__codelineno-0-554">554</a></span>
<span class="normal"><a href="#__codelineno-0-555">555</a></span>
<span class="normal"><a href="#__codelineno-0-556">556</a></span>
<span class="normal"><a href="#__codelineno-0-557">557</a></span>
<span class="normal"><a href="#__codelineno-0-558">558</a></span>
<span class="normal"><a href="#__codelineno-0-559">559</a></span>
<span class="normal"><a href="#__codelineno-0-560">560</a></span>
<span class="normal"><a href="#__codelineno-0-561">561</a></span>
<span class="normal"><a href="#__codelineno-0-562">562</a></span>
<span class="normal"><a href="#__codelineno-0-563">563</a></span>
<span class="normal"><a href="#__codelineno-0-564">564</a></span>
<span class="normal"><a href="#__codelineno-0-565">565</a></span>
<span class="normal"><a href="#__codelineno-0-566">566</a></span>
<span class="normal"><a href="#__codelineno-0-567">567</a></span>
<span class="normal"><a href="#__codelineno-0-568">568</a></span>
<span class="normal"><a href="#__codelineno-0-569">569</a></span>
<span class="normal"><a href="#__codelineno-0-570">570</a></span>
<span class="normal"><a href="#__codelineno-0-571">571</a></span>
<span class="normal"><a href="#__codelineno-0-572">572</a></span>
<span class="normal"><a href="#__codelineno-0-573">573</a></span>
<span class="normal"><a href="#__codelineno-0-574">574</a></span>
<span class="normal"><a href="#__codelineno-0-575">575</a></span>
<span class="normal"><a href="#__codelineno-0-576">576</a></span>
<span class="normal"><a href="#__codelineno-0-577">577</a></span>
<span class="normal"><a href="#__codelineno-0-578">578</a></span>
<span class="normal"><a href="#__codelineno-0-579">579</a></span>
<span class="normal"><a href="#__codelineno-0-580">580</a></span>
<span class="normal"><a href="#__codelineno-0-581">581</a></span>
<span class="normal"><a href="#__codelineno-0-582">582</a></span>
<span class="normal"><a href="#__codelineno-0-583">583</a></span>
<span class="normal"><a href="#__codelineno-0-584">584</a></span>
<span class="normal"><a href="#__codelineno-0-585">585</a></span>
<span class="normal"><a href="#__codelineno-0-586">586</a></span>
<span class="normal"><a href="#__codelineno-0-587">587</a></span>
<span class="normal"><a href="#__codelineno-0-588">588</a></span>
<span class="normal"><a href="#__codelineno-0-589">589</a></span>
<span class="normal"><a href="#__codelineno-0-590">590</a></span>
<span class="normal"><a href="#__codelineno-0-591">591</a></span>
<span class="normal"><a href="#__codelineno-0-592">592</a></span>
<span class="normal"><a href="#__codelineno-0-593">593</a></span>
<span class="normal"><a href="#__codelineno-0-594">594</a></span>
<span class="normal"><a href="#__codelineno-0-595">595</a></span>
<span class="normal"><a href="#__codelineno-0-596">596</a></span>
<span class="normal"><a href="#__codelineno-0-597">597</a></span>
<span class="normal"><a href="#__codelineno-0-598">598</a></span>
<span class="normal"><a href="#__codelineno-0-599">599</a></span>
<span class="normal"><a href="#__codelineno-0-600">600</a></span>
<span class="normal"><a href="#__codelineno-0-601">601</a></span>
<span class="normal"><a href="#__codelineno-0-602">602</a></span>
<span class="normal"><a href="#__codelineno-0-603">603</a></span>
<span class="normal"><a href="#__codelineno-0-604">604</a></span>
<span class="normal"><a href="#__codelineno-0-605">605</a></span>
<span class="normal"><a href="#__codelineno-0-606">606</a></span>
<span class="normal"><a href="#__codelineno-0-607">607</a></span>
<span class="normal"><a href="#__codelineno-0-608">608</a></span>
<span class="normal"><a href="#__codelineno-0-609">609</a></span>
<span class="normal"><a href="#__codelineno-0-610">610</a></span>
<span class="normal"><a href="#__codelineno-0-611">611</a></span>
<span class="normal"><a href="#__codelineno-0-612">612</a></span>
<span class="normal"><a href="#__codelineno-0-613">613</a></span>
<span class="normal"><a href="#__codelineno-0-614">614</a></span>
<span class="normal"><a href="#__codelineno-0-615">615</a></span>
<span class="normal"><a href="#__codelineno-0-616">616</a></span>
<span class="normal"><a href="#__codelineno-0-617">617</a></span>
<span class="normal"><a href="#__codelineno-0-618">618</a></span>
<span class="normal"><a href="#__codelineno-0-619">619</a></span>
<span class="normal"><a href="#__codelineno-0-620">620</a></span>
<span class="normal"><a href="#__codelineno-0-621">621</a></span>
<span class="normal"><a href="#__codelineno-0-622">622</a></span>
<span class="normal"><a href="#__codelineno-0-623">623</a></span>
<span class="normal"><a href="#__codelineno-0-624">624</a></span>
<span class="normal"><a href="#__codelineno-0-625">625</a></span>
<span class="normal"><a href="#__codelineno-0-626">626</a></span>
<span class="normal"><a href="#__codelineno-0-627">627</a></span>
<span class="normal"><a href="#__codelineno-0-628">628</a></span>
<span class="normal"><a href="#__codelineno-0-629">629</a></span>
<span class="normal"><a href="#__codelineno-0-630">630</a></span>
<span class="normal"><a href="#__codelineno-0-631">631</a></span>
<span class="normal"><a href="#__codelineno-0-632">632</a></span>
<span class="normal"><a href="#__codelineno-0-633">633</a></span>
<span class="normal"><a href="#__codelineno-0-634">634</a></span>
<span class="normal"><a href="#__codelineno-0-635">635</a></span>
<span class="normal"><a href="#__codelineno-0-636">636</a></span>
<span class="normal"><a href="#__codelineno-0-637">637</a></span>
<span class="normal"><a href="#__codelineno-0-638">638</a></span>
<span class="normal"><a href="#__codelineno-0-639">639</a></span>
<span class="normal"><a href="#__codelineno-0-640">640</a></span>
<span class="normal"><a href="#__codelineno-0-641">641</a></span>
<span class="normal"><a href="#__codelineno-0-642">642</a></span>
<span class="normal"><a href="#__codelineno-0-643">643</a></span>
<span class="normal"><a href="#__codelineno-0-644">644</a></span>
<span class="normal"><a href="#__codelineno-0-645">645</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-502" name="__codelineno-0-502"></a><span class="k">def</span> <span class="nf">get_base_aligned_bbox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">link_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">visual</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">xy_aligned</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">fallback_to_aabb</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">link_bbox_type</span><span class="o">=</span><span class="s2">&quot;axis_aligned&quot;</span><span class="p">):</span>
<a id="__codelineno-0-503" name="__codelineno-0-503"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-504" name="__codelineno-0-504"></a><span class="sd">    Get a bounding box for this object that&#39;s axis-aligned in the object&#39;s base frame.</span>
<a id="__codelineno-0-505" name="__codelineno-0-505"></a>
<a id="__codelineno-0-506" name="__codelineno-0-506"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-507" name="__codelineno-0-507"></a><span class="sd">        link_name (None or str): If specified, only get the bbox for the given link</span>
<a id="__codelineno-0-508" name="__codelineno-0-508"></a><span class="sd">        visual (bool): Whether to aggregate the bounding boxes from the visual meshes. Otherwise, will use</span>
<a id="__codelineno-0-509" name="__codelineno-0-509"></a><span class="sd">            collision meshes</span>
<a id="__codelineno-0-510" name="__codelineno-0-510"></a><span class="sd">        xy_aligned (bool): Whether to align the bounding box to the global XY-plane</span>
<a id="__codelineno-0-511" name="__codelineno-0-511"></a><span class="sd">        fallback_to_aabb (bool): If set and a link&#39;s info is not found, the (global-frame) AABB will be</span>
<a id="__codelineno-0-512" name="__codelineno-0-512"></a><span class="sd">            dynamically computed directly from omniverse</span>
<a id="__codelineno-0-513" name="__codelineno-0-513"></a><span class="sd">        link_bbox_type (str): Which type of link bbox to use, &quot;axis_aligned&quot; means the bounding box is axis-aligned</span>
<a id="__codelineno-0-514" name="__codelineno-0-514"></a><span class="sd">            to the link frame, &quot;oriented&quot; means the bounding box has the minimum volume</span>
<a id="__codelineno-0-515" name="__codelineno-0-515"></a>
<a id="__codelineno-0-516" name="__codelineno-0-516"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-517" name="__codelineno-0-517"></a><span class="sd">        4-tuple:</span>
<a id="__codelineno-0-518" name="__codelineno-0-518"></a><span class="sd">            - 3-array: (x,y,z) bbox center position in world frame</span>
<a id="__codelineno-0-519" name="__codelineno-0-519"></a><span class="sd">            - 3-array: (x,y,z,w) bbox quaternion orientation in world frame</span>
<a id="__codelineno-0-520" name="__codelineno-0-520"></a><span class="sd">            - 3-array: (x,y,z) bbox extent in world frame</span>
<a id="__codelineno-0-521" name="__codelineno-0-521"></a><span class="sd">            - 3-array: (x,y,z) bbox center in desired frame</span>
<a id="__codelineno-0-522" name="__codelineno-0-522"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-523" name="__codelineno-0-523"></a>    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">prim_type</span> <span class="o">==</span> <span class="n">PrimType</span><span class="o">.</span><span class="n">RIGID</span><span class="p">,</span> <span class="s2">&quot;get_base_aligned_bbox is only supported for rigid objects.&quot;</span>
<a id="__codelineno-0-524" name="__codelineno-0-524"></a>    <span class="n">bbox_type</span> <span class="o">=</span> <span class="s2">&quot;visual&quot;</span> <span class="k">if</span> <span class="n">visual</span> <span class="k">else</span> <span class="s2">&quot;collision&quot;</span>
<a id="__codelineno-0-525" name="__codelineno-0-525"></a>
<a id="__codelineno-0-526" name="__codelineno-0-526"></a>    <span class="c1"># Get the base position transform.</span>
<a id="__codelineno-0-527" name="__codelineno-0-527"></a>    <span class="n">pos</span><span class="p">,</span> <span class="n">orn</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_position_orientation</span><span class="p">()</span>
<a id="__codelineno-0-528" name="__codelineno-0-528"></a>    <span class="n">base_frame_to_world</span> <span class="o">=</span> <span class="n">T</span><span class="o">.</span><span class="n">pose2mat</span><span class="p">((</span><span class="n">pos</span><span class="p">,</span> <span class="n">orn</span><span class="p">))</span>
<a id="__codelineno-0-529" name="__codelineno-0-529"></a>
<a id="__codelineno-0-530" name="__codelineno-0-530"></a>    <span class="c1"># Compute the world-to-base frame transform.</span>
<a id="__codelineno-0-531" name="__codelineno-0-531"></a>    <span class="n">world_to_base_frame</span> <span class="o">=</span> <span class="n">trimesh</span><span class="o">.</span><span class="n">transformations</span><span class="o">.</span><span class="n">inverse_matrix</span><span class="p">(</span><span class="n">base_frame_to_world</span><span class="p">)</span>
<a id="__codelineno-0-532" name="__codelineno-0-532"></a>
<a id="__codelineno-0-533" name="__codelineno-0-533"></a>    <span class="c1"># Grab the corners of all the different links&#39; bounding boxes. We will later fit a bounding box to</span>
<a id="__codelineno-0-534" name="__codelineno-0-534"></a>    <span class="c1"># this set of points to get our final, base-frame bounding box.</span>
<a id="__codelineno-0-535" name="__codelineno-0-535"></a>    <span class="n">points</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-536" name="__codelineno-0-536"></a>
<a id="__codelineno-0-537" name="__codelineno-0-537"></a>    <span class="n">links</span> <span class="o">=</span> <span class="p">{</span><span class="n">link_name</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_links</span><span class="p">[</span><span class="n">link_name</span><span class="p">]}</span> <span class="k">if</span> <span class="n">link_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">_links</span>
<a id="__codelineno-0-538" name="__codelineno-0-538"></a>    <span class="k">for</span> <span class="n">link_name</span><span class="p">,</span> <span class="n">link</span> <span class="ow">in</span> <span class="n">links</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-0-539" name="__codelineno-0-539"></a>        <span class="c1"># If the link has no visual or collision meshes, we skip over it (based on the @visual flag)</span>
<a id="__codelineno-0-540" name="__codelineno-0-540"></a>        <span class="n">meshes</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="n">visual_meshes</span> <span class="k">if</span> <span class="n">visual</span> <span class="k">else</span> <span class="n">link</span><span class="o">.</span><span class="n">collision_meshes</span>
<a id="__codelineno-0-541" name="__codelineno-0-541"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">meshes</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-542" name="__codelineno-0-542"></a>            <span class="k">continue</span>
<a id="__codelineno-0-543" name="__codelineno-0-543"></a>
<a id="__codelineno-0-544" name="__codelineno-0-544"></a>        <span class="c1"># If the link has a bounding box annotation.</span>
<a id="__codelineno-0-545" name="__codelineno-0-545"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">native_link_bboxes</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">link_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">native_link_bboxes</span><span class="p">:</span>
<a id="__codelineno-0-546" name="__codelineno-0-546"></a>            <span class="c1"># If a visual bounding box does not exist in the dictionary, try switching to collision.</span>
<a id="__codelineno-0-547" name="__codelineno-0-547"></a>            <span class="c1"># We expect that every link has its collision bb annotated (or set to None if none exists).</span>
<a id="__codelineno-0-548" name="__codelineno-0-548"></a>            <span class="k">if</span> <span class="n">bbox_type</span> <span class="o">==</span> <span class="s2">&quot;visual&quot;</span> <span class="ow">and</span> <span class="s2">&quot;visual&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">native_link_bboxes</span><span class="p">[</span><span class="n">link_name</span><span class="p">]:</span>
<a id="__codelineno-0-549" name="__codelineno-0-549"></a>                <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
<a id="__codelineno-0-550" name="__codelineno-0-550"></a>                    <span class="s2">&quot;Falling back to collision bbox for object </span><span class="si">%s</span><span class="s2"> link </span><span class="si">%s</span><span class="s2"> since no visual bbox exists.&quot;</span><span class="p">,</span>
<a id="__codelineno-0-551" name="__codelineno-0-551"></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
<a id="__codelineno-0-552" name="__codelineno-0-552"></a>                    <span class="n">link_name</span><span class="p">,</span>
<a id="__codelineno-0-553" name="__codelineno-0-553"></a>                <span class="p">)</span>
<a id="__codelineno-0-554" name="__codelineno-0-554"></a>                <span class="n">bbox_type</span> <span class="o">=</span> <span class="s2">&quot;collision&quot;</span>
<a id="__codelineno-0-555" name="__codelineno-0-555"></a>
<a id="__codelineno-0-556" name="__codelineno-0-556"></a>            <span class="c1"># Check if the annotation is still missing.</span>
<a id="__codelineno-0-557" name="__codelineno-0-557"></a>            <span class="k">if</span> <span class="n">bbox_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">native_link_bboxes</span><span class="p">[</span><span class="n">link_name</span><span class="p">]:</span>
<a id="__codelineno-0-558" name="__codelineno-0-558"></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-559" name="__codelineno-0-559"></a>                    <span class="s2">&quot;Could not find </span><span class="si">%s</span><span class="s2"> bounding box for object </span><span class="si">%s</span><span class="s2"> link </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">bbox_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">link_name</span><span class="p">)</span>
<a id="__codelineno-0-560" name="__codelineno-0-560"></a>                <span class="p">)</span>
<a id="__codelineno-0-561" name="__codelineno-0-561"></a>
<a id="__codelineno-0-562" name="__codelineno-0-562"></a>            <span class="c1"># Check if a mesh exists for this link. If None, the link is meshless, so we continue to the next link.</span>
<a id="__codelineno-0-563" name="__codelineno-0-563"></a>            <span class="c1"># TODO: Because of encoding, may need to be UsdTokens.none, not None</span>
<a id="__codelineno-0-564" name="__codelineno-0-564"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">native_link_bboxes</span><span class="p">[</span><span class="n">link_name</span><span class="p">][</span><span class="n">bbox_type</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-565" name="__codelineno-0-565"></a>                <span class="k">continue</span>
<a id="__codelineno-0-566" name="__codelineno-0-566"></a>
<a id="__codelineno-0-567" name="__codelineno-0-567"></a>            <span class="c1"># Get the extent and transform.</span>
<a id="__codelineno-0-568" name="__codelineno-0-568"></a>            <span class="n">bb_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">native_link_bboxes</span><span class="p">[</span><span class="n">link_name</span><span class="p">][</span><span class="n">bbox_type</span><span class="p">][</span><span class="n">link_bbox_type</span><span class="p">]</span>
<a id="__codelineno-0-569" name="__codelineno-0-569"></a>            <span class="n">extent_in_bbox_frame</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">bb_data</span><span class="p">[</span><span class="s2">&quot;extent&quot;</span><span class="p">])</span>
<a id="__codelineno-0-570" name="__codelineno-0-570"></a>            <span class="n">bbox_to_link_origin</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">bb_data</span><span class="p">[</span><span class="s2">&quot;transform&quot;</span><span class="p">])</span>
<a id="__codelineno-0-571" name="__codelineno-0-571"></a>
<a id="__codelineno-0-572" name="__codelineno-0-572"></a>            <span class="c1"># # Get the link&#39;s pose in the base frame.</span>
<a id="__codelineno-0-573" name="__codelineno-0-573"></a>            <span class="n">link_frame_to_world</span> <span class="o">=</span> <span class="n">T</span><span class="o">.</span><span class="n">pose2mat</span><span class="p">(</span><span class="n">link</span><span class="o">.</span><span class="n">get_position_orientation</span><span class="p">())</span>
<a id="__codelineno-0-574" name="__codelineno-0-574"></a>            <span class="n">link_frame_to_base_frame</span> <span class="o">=</span> <span class="n">world_to_base_frame</span> <span class="o">@</span> <span class="n">link_frame_to_world</span>
<a id="__codelineno-0-575" name="__codelineno-0-575"></a>
<a id="__codelineno-0-576" name="__codelineno-0-576"></a>            <span class="c1"># Scale the bounding box in link origin frame. Here we create a transform that first puts the bounding</span>
<a id="__codelineno-0-577" name="__codelineno-0-577"></a>            <span class="c1"># box&#39;s vertices into the link frame, and then scales them to match the scale applied to this object.</span>
<a id="__codelineno-0-578" name="__codelineno-0-578"></a>            <span class="c1"># Note that once scaled, the vertices of the bounding box do not necessarily form a cuboid anymore but</span>
<a id="__codelineno-0-579" name="__codelineno-0-579"></a>            <span class="c1"># instead a parallelepiped. This is not a problem because we later fit a bounding box to the points,</span>
<a id="__codelineno-0-580" name="__codelineno-0-580"></a>            <span class="c1"># this time in the object&#39;s base link frame.</span>
<a id="__codelineno-0-581" name="__codelineno-0-581"></a>            <span class="n">scale_in_link_frame</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">diag</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">scales_in_link_frame</span><span class="p">[</span><span class="n">link_name</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">]]))</span>
<a id="__codelineno-0-582" name="__codelineno-0-582"></a>            <span class="n">bbox_to_scaled_link_origin</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">scale_in_link_frame</span><span class="p">,</span> <span class="n">bbox_to_link_origin</span><span class="p">)</span>
<a id="__codelineno-0-583" name="__codelineno-0-583"></a>
<a id="__codelineno-0-584" name="__codelineno-0-584"></a>            <span class="c1"># Compute the bounding box vertices in the base frame.</span>
<a id="__codelineno-0-585" name="__codelineno-0-585"></a>            <span class="c1"># bbox_to_link_com = np.dot(link_origin_to_link_com, bbox_to_scaled_link_origin)</span>
<a id="__codelineno-0-586" name="__codelineno-0-586"></a>            <span class="n">bbox_center_in_base_frame</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">link_frame_to_base_frame</span><span class="p">,</span> <span class="n">bbox_to_scaled_link_origin</span><span class="p">)</span>
<a id="__codelineno-0-587" name="__codelineno-0-587"></a>            <span class="n">vertices_in_base_frame</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">product</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">repeat</span><span class="o">=</span><span class="mi">3</span><span class="p">)))</span> <span class="o">*</span> <span class="p">(</span><span class="n">extent_in_bbox_frame</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-0-588" name="__codelineno-0-588"></a>
<a id="__codelineno-0-589" name="__codelineno-0-589"></a>            <span class="c1"># Add the points to our collection of points.</span>
<a id="__codelineno-0-590" name="__codelineno-0-590"></a>            <span class="n">points</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">trimesh</span><span class="o">.</span><span class="n">transformations</span><span class="o">.</span><span class="n">transform_points</span><span class="p">(</span><span class="n">vertices_in_base_frame</span><span class="p">,</span> <span class="n">bbox_center_in_base_frame</span><span class="p">))</span>
<a id="__codelineno-0-591" name="__codelineno-0-591"></a>        <span class="k">elif</span> <span class="n">fallback_to_aabb</span><span class="p">:</span>
<a id="__codelineno-0-592" name="__codelineno-0-592"></a>            <span class="c1"># If no BB annotation is available, get the AABB for this link.</span>
<a id="__codelineno-0-593" name="__codelineno-0-593"></a>            <span class="n">aabb_center</span><span class="p">,</span> <span class="n">aabb_extent</span> <span class="o">=</span> <span class="n">BoundingBoxAPI</span><span class="o">.</span><span class="n">compute_center_extent</span><span class="p">(</span><span class="n">prim_path</span><span class="o">=</span><span class="n">link</span><span class="o">.</span><span class="n">prim_path</span><span class="p">)</span>
<a id="__codelineno-0-594" name="__codelineno-0-594"></a>            <span class="n">aabb_vertices_in_world</span> <span class="o">=</span> <span class="n">aabb_center</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">product</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">repeat</span><span class="o">=</span><span class="mi">3</span><span class="p">)))</span> <span class="o">*</span> <span class="p">(</span>
<a id="__codelineno-0-595" name="__codelineno-0-595"></a>                    <span class="n">aabb_extent</span> <span class="o">/</span> <span class="mi">2</span>
<a id="__codelineno-0-596" name="__codelineno-0-596"></a>            <span class="p">)</span>
<a id="__codelineno-0-597" name="__codelineno-0-597"></a>            <span class="n">aabb_vertices_in_base_frame</span> <span class="o">=</span> <span class="n">trimesh</span><span class="o">.</span><span class="n">transformations</span><span class="o">.</span><span class="n">transform_points</span><span class="p">(</span>
<a id="__codelineno-0-598" name="__codelineno-0-598"></a>                <span class="n">aabb_vertices_in_world</span><span class="p">,</span> <span class="n">world_to_base_frame</span>
<a id="__codelineno-0-599" name="__codelineno-0-599"></a>            <span class="p">)</span>
<a id="__codelineno-0-600" name="__codelineno-0-600"></a>            <span class="n">points</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">aabb_vertices_in_base_frame</span><span class="p">)</span>
<a id="__codelineno-0-601" name="__codelineno-0-601"></a>        <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-602" name="__codelineno-0-602"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<a id="__codelineno-0-603" name="__codelineno-0-603"></a>                <span class="s2">&quot;Bounding box annotation missing for link: </span><span class="si">%s</span><span class="s2">. Use fallback_to_aabb=True if you&#39;re okay with using &quot;</span>
<a id="__codelineno-0-604" name="__codelineno-0-604"></a>                <span class="s2">&quot;AABB as fallback.&quot;</span> <span class="o">%</span> <span class="n">link_name</span>
<a id="__codelineno-0-605" name="__codelineno-0-605"></a>            <span class="p">)</span>
<a id="__codelineno-0-606" name="__codelineno-0-606"></a>
<a id="__codelineno-0-607" name="__codelineno-0-607"></a>    <span class="k">if</span> <span class="n">xy_aligned</span><span class="p">:</span>
<a id="__codelineno-0-608" name="__codelineno-0-608"></a>        <span class="c1"># If the user requested an XY-plane aligned bbox, convert everything to that frame.</span>
<a id="__codelineno-0-609" name="__codelineno-0-609"></a>        <span class="c1"># The desired frame is same as the base_com frame with its X/Y rotations removed.</span>
<a id="__codelineno-0-610" name="__codelineno-0-610"></a>        <span class="n">translate</span> <span class="o">=</span> <span class="n">trimesh</span><span class="o">.</span><span class="n">transformations</span><span class="o">.</span><span class="n">translation_from_matrix</span><span class="p">(</span><span class="n">base_frame_to_world</span><span class="p">)</span>
<a id="__codelineno-0-611" name="__codelineno-0-611"></a>
<a id="__codelineno-0-612" name="__codelineno-0-612"></a>        <span class="c1"># To find the rotation that this transform does around the Z axis, we rotate the [1, 0, 0] vector by it</span>
<a id="__codelineno-0-613" name="__codelineno-0-613"></a>        <span class="c1"># and then take the arctangent of its projection onto the XY plane.</span>
<a id="__codelineno-0-614" name="__codelineno-0-614"></a>        <span class="n">rotated_X_axis</span> <span class="o">=</span> <span class="n">base_frame_to_world</span><span class="p">[:</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-615" name="__codelineno-0-615"></a>        <span class="n">rotation_around_Z_axis</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="n">rotated_X_axis</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">rotated_X_axis</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<a id="__codelineno-0-616" name="__codelineno-0-616"></a>        <span class="n">xy_aligned_base_com_to_world</span> <span class="o">=</span> <span class="n">trimesh</span><span class="o">.</span><span class="n">transformations</span><span class="o">.</span><span class="n">compose_matrix</span><span class="p">(</span>
<a id="__codelineno-0-617" name="__codelineno-0-617"></a>            <span class="n">translate</span><span class="o">=</span><span class="n">translate</span><span class="p">,</span> <span class="n">angles</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">rotation_around_Z_axis</span><span class="p">]</span>
<a id="__codelineno-0-618" name="__codelineno-0-618"></a>        <span class="p">)</span>
<a id="__codelineno-0-619" name="__codelineno-0-619"></a>
<a id="__codelineno-0-620" name="__codelineno-0-620"></a>        <span class="c1"># We want to move our points to this frame as well.</span>
<a id="__codelineno-0-621" name="__codelineno-0-621"></a>        <span class="n">world_to_xy_aligned_base_com</span> <span class="o">=</span> <span class="n">trimesh</span><span class="o">.</span><span class="n">transformations</span><span class="o">.</span><span class="n">inverse_matrix</span><span class="p">(</span><span class="n">xy_aligned_base_com_to_world</span><span class="p">)</span>
<a id="__codelineno-0-622" name="__codelineno-0-622"></a>        <span class="n">base_com_to_xy_aligned_base_com</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">world_to_xy_aligned_base_com</span><span class="p">,</span> <span class="n">base_frame_to_world</span><span class="p">)</span>
<a id="__codelineno-0-623" name="__codelineno-0-623"></a>        <span class="n">points</span> <span class="o">=</span> <span class="n">trimesh</span><span class="o">.</span><span class="n">transformations</span><span class="o">.</span><span class="n">transform_points</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">base_com_to_xy_aligned_base_com</span><span class="p">)</span>
<a id="__codelineno-0-624" name="__codelineno-0-624"></a>
<a id="__codelineno-0-625" name="__codelineno-0-625"></a>        <span class="c1"># Finally update our desired frame.</span>
<a id="__codelineno-0-626" name="__codelineno-0-626"></a>        <span class="n">desired_frame_to_world</span> <span class="o">=</span> <span class="n">xy_aligned_base_com_to_world</span>
<a id="__codelineno-0-627" name="__codelineno-0-627"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-628" name="__codelineno-0-628"></a>        <span class="c1"># Default desired frame is base CoM frame.</span>
<a id="__codelineno-0-629" name="__codelineno-0-629"></a>        <span class="n">desired_frame_to_world</span> <span class="o">=</span> <span class="n">base_frame_to_world</span>
<a id="__codelineno-0-630" name="__codelineno-0-630"></a>
<a id="__codelineno-0-631" name="__codelineno-0-631"></a>    <span class="c1"># TODO: Implement logic to allow tight bounding boxes that don&#39;t necessarily have to match the base frame.</span>
<a id="__codelineno-0-632" name="__codelineno-0-632"></a>    <span class="c1"># All points are now in the desired frame: either the base CoM or the xy-plane-aligned base CoM.</span>
<a id="__codelineno-0-633" name="__codelineno-0-633"></a>    <span class="c1"># Now fit a bounding box to all the points by taking the minimum/maximum in the desired frame.</span>
<a id="__codelineno-0-634" name="__codelineno-0-634"></a>    <span class="n">aabb_min_in_desired_frame</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">amin</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-635" name="__codelineno-0-635"></a>    <span class="n">aabb_max_in_desired_frame</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">amax</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-0-636" name="__codelineno-0-636"></a>    <span class="n">bbox_center_in_desired_frame</span> <span class="o">=</span> <span class="p">(</span><span class="n">aabb_min_in_desired_frame</span> <span class="o">+</span> <span class="n">aabb_max_in_desired_frame</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
<a id="__codelineno-0-637" name="__codelineno-0-637"></a>    <span class="n">bbox_extent_in_desired_frame</span> <span class="o">=</span> <span class="n">aabb_max_in_desired_frame</span> <span class="o">-</span> <span class="n">aabb_min_in_desired_frame</span>
<a id="__codelineno-0-638" name="__codelineno-0-638"></a>
<a id="__codelineno-0-639" name="__codelineno-0-639"></a>    <span class="c1"># Transform the center to the world frame.</span>
<a id="__codelineno-0-640" name="__codelineno-0-640"></a>    <span class="n">bbox_center_in_world</span> <span class="o">=</span> <span class="n">trimesh</span><span class="o">.</span><span class="n">transformations</span><span class="o">.</span><span class="n">transform_points</span><span class="p">(</span>
<a id="__codelineno-0-641" name="__codelineno-0-641"></a>        <span class="p">[</span><span class="n">bbox_center_in_desired_frame</span><span class="p">],</span> <span class="n">desired_frame_to_world</span>
<a id="__codelineno-0-642" name="__codelineno-0-642"></a>    <span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-643" name="__codelineno-0-643"></a>    <span class="n">bbox_orn_in_world</span> <span class="o">=</span> <span class="n">Rotation</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">desired_frame_to_world</span><span class="p">[:</span><span class="mi">3</span><span class="p">,</span> <span class="p">:</span><span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">as_quat</span><span class="p">()</span>
<a id="__codelineno-0-644" name="__codelineno-0-644"></a>
<a id="__codelineno-0-645" name="__codelineno-0-645"></a>    <span class="k">return</span> <span class="n">bbox_center_in_world</span><span class="p">,</span> <span class="n">bbox_orn_in_world</span><span class="p">,</span> <span class="n">bbox_extent_in_desired_frame</span><span class="p">,</span> <span class="n">bbox_center_in_desired_frame</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 class="doc doc-heading" id="objects.dataset_object.DatasetObject.sample_orientation">
<code class="highlight language-python"><span class="n">sample_orientation</span><span class="p">()</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Samples an orientation in quaternion (x,y,z,w) form</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
          </td>
          <td><p>4-array: (x,y,z,w) sampled quaternion orientation for this object, based on self.orientations</p></td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>objects\dataset_object.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-179">179</a></span>
<span class="normal"><a href="#__codelineno-0-180">180</a></span>
<span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span>
<span class="normal"><a href="#__codelineno-0-199">199</a></span>
<span class="normal"><a href="#__codelineno-0-200">200</a></span>
<span class="normal"><a href="#__codelineno-0-201">201</a></span>
<span class="normal"><a href="#__codelineno-0-202">202</a></span>
<span class="normal"><a href="#__codelineno-0-203">203</a></span>
<span class="normal"><a href="#__codelineno-0-204">204</a></span>
<span class="normal"><a href="#__codelineno-0-205">205</a></span>
<span class="normal"><a href="#__codelineno-0-206">206</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-179" name="__codelineno-0-179"></a><span class="k">def</span> <span class="nf">sample_orientation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-180" name="__codelineno-0-180"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-181" name="__codelineno-0-181"></a><span class="sd">    Samples an orientation in quaternion (x,y,z,w) form</span>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a><span class="sd">        4-array: (x,y,z,w) sampled quaternion orientation for this object, based on self.orientations</span>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">orientations</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No orientation probabilities set&quot;</span><span class="p">)</span>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">orientations</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a>        <span class="c1"># Set default value</span>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a>        <span class="n">chosen_orientation</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">])</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a>        <span class="n">probabilities</span> <span class="o">=</span> <span class="p">[</span><span class="n">o</span><span class="p">[</span><span class="s2">&quot;prob&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">orientations</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a>        <span class="n">probabilities</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">probabilities</span><span class="p">)</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">probabilities</span><span class="p">)</span>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a>        <span class="n">chosen_orientation</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">orientations</span><span class="o">.</span><span class="n">values</span><span class="p">()),</span> <span class="n">p</span><span class="o">=</span><span class="n">probabilities</span><span class="p">)[</span><span class="s2">&quot;rotation&quot;</span><span class="p">])</span>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a>    <span class="c1"># Randomize yaw from -pi to pi</span>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a>    <span class="n">rot_num</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a>    <span class="n">rot_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
<a id="__codelineno-0-199" name="__codelineno-0-199"></a>        <span class="p">[</span>
<a id="__codelineno-0-200" name="__codelineno-0-200"></a>            <span class="p">[</span><span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">rot_num</span><span class="p">),</span> <span class="o">-</span><span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">rot_num</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">],</span>
<a id="__codelineno-0-201" name="__codelineno-0-201"></a>            <span class="p">[</span><span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">rot_num</span><span class="p">),</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">rot_num</span><span class="p">),</span> <span class="mf">0.0</span><span class="p">],</span>
<a id="__codelineno-0-202" name="__codelineno-0-202"></a>            <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>
<a id="__codelineno-0-203" name="__codelineno-0-203"></a>        <span class="p">]</span>
<a id="__codelineno-0-204" name="__codelineno-0-204"></a>    <span class="p">)</span>
<a id="__codelineno-0-205" name="__codelineno-0-205"></a>    <span class="n">rotated_quat</span> <span class="o">=</span> <span class="n">T</span><span class="o">.</span><span class="n">mat2quat</span><span class="p">(</span><span class="n">rot_matrix</span> <span class="o">@</span> <span class="n">T</span><span class="o">.</span><span class="n">quat2mat</span><span class="p">(</span><span class="n">chosen_orientation</span><span class="p">))</span>
<a id="__codelineno-0-206" name="__codelineno-0-206"></a>    <span class="k">return</span> <span class="n">rotated_quat</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 class="doc doc-heading" id="objects.dataset_object.DatasetObject.set_bbox_center_position_orientation">
<code class="highlight language-python"><span class="n">set_bbox_center_position_orientation</span><span class="p">(</span><span class="n">position</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Sets the center of the object's bounding box with respect to the world's frame.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>position</code></td>
          <td>
                <code>None or 3-array</code>
          </td>
          <td><p>The desired global (x,y,z) position. None means it will not be changed</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>orientation</code></td>
          <td>
                <code>None or 4-array</code>
          </td>
          <td><p>The desired global (x,y,z,w) quaternion orientation.
None means it will not be changed</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>objects\dataset_object.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-344">344</a></span>
<span class="normal"><a href="#__codelineno-0-345">345</a></span>
<span class="normal"><a href="#__codelineno-0-346">346</a></span>
<span class="normal"><a href="#__codelineno-0-347">347</a></span>
<span class="normal"><a href="#__codelineno-0-348">348</a></span>
<span class="normal"><a href="#__codelineno-0-349">349</a></span>
<span class="normal"><a href="#__codelineno-0-350">350</a></span>
<span class="normal"><a href="#__codelineno-0-351">351</a></span>
<span class="normal"><a href="#__codelineno-0-352">352</a></span>
<span class="normal"><a href="#__codelineno-0-353">353</a></span>
<span class="normal"><a href="#__codelineno-0-354">354</a></span>
<span class="normal"><a href="#__codelineno-0-355">355</a></span>
<span class="normal"><a href="#__codelineno-0-356">356</a></span>
<span class="normal"><a href="#__codelineno-0-357">357</a></span>
<span class="normal"><a href="#__codelineno-0-358">358</a></span>
<span class="normal"><a href="#__codelineno-0-359">359</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-344" name="__codelineno-0-344"></a><span class="k">def</span> <span class="nf">set_bbox_center_position_orientation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<a id="__codelineno-0-345" name="__codelineno-0-345"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-346" name="__codelineno-0-346"></a><span class="sd">    Sets the center of the object&#39;s bounding box with respect to the world&#39;s frame.</span>
<a id="__codelineno-0-347" name="__codelineno-0-347"></a>
<a id="__codelineno-0-348" name="__codelineno-0-348"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-349" name="__codelineno-0-349"></a><span class="sd">        position (None or 3-array): The desired global (x,y,z) position. None means it will not be changed</span>
<a id="__codelineno-0-350" name="__codelineno-0-350"></a><span class="sd">        orientation (None or 4-array): The desired global (x,y,z,w) quaternion orientation.</span>
<a id="__codelineno-0-351" name="__codelineno-0-351"></a><span class="sd">            None means it will not be changed</span>
<a id="__codelineno-0-352" name="__codelineno-0-352"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-353" name="__codelineno-0-353"></a>    <span class="k">if</span> <span class="n">orientation</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-354" name="__codelineno-0-354"></a>        <span class="n">orientation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_orientation</span><span class="p">()</span>
<a id="__codelineno-0-355" name="__codelineno-0-355"></a>    <span class="k">if</span> <span class="n">position</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-356" name="__codelineno-0-356"></a>        <span class="n">rotated_offset</span> <span class="o">=</span> <span class="n">T</span><span class="o">.</span><span class="n">pose_transform</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">orientation</span><span class="p">,</span>
<a id="__codelineno-0-357" name="__codelineno-0-357"></a>                                          <span class="bp">self</span><span class="o">.</span><span class="n">scaled_bbox_center_in_base_frame</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-358" name="__codelineno-0-358"></a>        <span class="n">position</span> <span class="o">=</span> <span class="n">position</span> <span class="o">+</span> <span class="n">rotated_offset</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">set_position_orientation</span><span class="p">(</span><span class="n">position</span><span class="p">,</span> <span class="n">orientation</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>



  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs Insiders
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tracking", "navigation.tabs"], "search": "../../assets/javascripts/workers/search.6c7302c4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.a3190745.min.js"></script>
      
    
  </body>
</html>